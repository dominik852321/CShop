{"version":3,"file":"m0t0r-ngx-slider.js","sources":["ng://@m0t0r/ngx-slider/lib/interfaces/options.ts","ng://@m0t0r/ngx-slider/lib/interfaces/pointer-type.ts","ng://@m0t0r/ngx-slider/lib/interfaces/change-context.ts","ng://@m0t0r/ngx-slider/lib/helpers/value-helper.ts","ng://@m0t0r/ngx-slider/lib/helpers/compatibility-helper.ts","ng://@m0t0r/ngx-slider/lib/helpers/math-helper.ts","ng://@m0t0r/ngx-slider/lib/interfaces/event-listener.ts","ng://@m0t0r/ngx-slider/lib/helpers/event-listener-helper.ts","ng://@m0t0r/ngx-slider/lib/directives/slider-element.directive.ts","ng://@m0t0r/ngx-slider/lib/directives/slider-handle.directive.ts","ng://@m0t0r/ngx-slider/lib/directives/slider-label.directive.ts","ng://@m0t0r/ngx-slider/lib/slider/slider.component.ts","ng://@m0t0r/ngx-slider/lib/tooltip-wrapper/tooltip-wrapper.component.ts","ng://@m0t0r/ngx-slider/lib/slider/slider.module.ts"],"sourcesContent":["  // tslint:disable: no-inferrable-types\nimport { PointerType } from './pointer-type';\n\n/** Label type */\nexport enum LabelType {\n  /** Label above low pointer */\n  Low,\n  /** Label above high pointer */\n  High,\n  /** Label for minimum slider value */\n  Floor,\n  /** Label for maximum slider value */\n  Ceil,\n  /** Label below legend tick */\n  TickValue\n}\n\n/** Function to translate label value into text */\nexport type TranslateFunction = (value: number, label: LabelType) => string;\n/** Function to combind */\nexport type CombineLabelsFunction = (minLabel: string, maxLabel: string) => string;\n/** Function to provide legend  */\nexport type GetLegendFunction = (value: number) => string;\n\n/** Function converting slider value to slider position */\nexport type ValueToPositionFunction = (val: number, minVal: number, maxVal: number) => number;\n\n/** Function converting slider position to slider value */\nexport type PositionToValueFunction = (percent: number, minVal: number, maxVal: number) => number;\n\n/**\n * Custom step definition\n *\n * This can be used to specify custom values and legend values for slider ticks\n */\nexport interface CustomStepDefinition {\n  /** Value */\n  value: number;\n  /** Legend (label for the value) */\n  legend?: string;\n}\n\n/** Slider options */\nexport class Options {\n  /** Minimum value for a slider.\n   * Not applicable when using stepsArray.\n   */\n  floor?: number = 0;\n\n  /** Maximum value for a slider.\n   * Not applicable when using stepsArray.\n   */\n  ceil?: number = null;\n\n  /** Step between each value.\n   * Not applicable when using stepsArray.\n   */\n  step?: number = 1;\n\n  /** The minimum range authorized on the slider.\n   * Applies to range slider only.\n   * When using stepsArray, expressed as index into stepsArray.\n   */\n  minRange?: number = null;\n\n  /** The maximum range authorized on the slider.\n   * Applies to range slider only.\n   * When using stepsArray, expressed as index into stepsArray.\n   */\n  maxRange?: number = null;\n\n  /** Set to true to have a push behavior. When the min handle goes above the max,\n   * the max is moved as well (and vice-versa). The range between min and max is\n   * defined by the step option (defaults to 1) and can also be overriden by\n   * the minRange option. Applies to range slider only.\n   */\n  pushRange?: boolean = false;\n\n  /** The minimum value authorized on the slider.\n   * When using stepsArray, expressed as index into stepsArray.\n   */\n  minLimit?: number = null;\n\n  /** The maximum value authorized on the slider.\n   * When using stepsArray, expressed as index into stepsArray.\n   */\n  maxLimit?: number = null;\n\n  /** Custom translate function. Use this if you want to translate values displayed\n   * on the slider.\n   */\n  translate?: TranslateFunction = null;\n\n  /** Custom function for combining overlapping labels in range slider.\n   * It takes the min and max values (already translated with translate fuction)\n   * and should return how these two values should be combined.\n   * If not provided, the default function will join the two values with ' - ' as separator.\n   */\n  combineLabels?: CombineLabelsFunction = null;\n\n  /** Use to display legend under ticks (thus, it needs to be used along with\n   * showTicks or showTicksValues). The function will be called with each tick\n   * value and returned content will be displayed under the tick as a legend.\n   * If the returned value is null, then no legend is displayed under\n   * the corresponding tick.You can also directly provide the legend values\n   * in the stepsArray option.\n   */\n  getLegend?: GetLegendFunction = null;\n\n  /** If you want to display a slider with non linear/number steps.\n   * Just pass an array with each slider value and that's it; the floor, ceil and step settings\n   * of the slider will be computed automatically.\n   * By default, the value model and valueHigh model values will be the value of the selected item\n   * in the stepsArray.\n   * They can also be bound to the index of the selected item by setting the bindIndexForStepsArray\n   * option to true.\n   */\n  stepsArray?: CustomStepDefinition[] = null;\n\n  /** Set to true to bind the index of the selected item to value model and valueHigh model. */\n  bindIndexForStepsArray?: boolean = false;\n\n  /** When set to true and using a range slider, the range can be dragged by the selection bar.\n   * Applies to range slider only.\n   */\n  draggableRange?: boolean = false;\n\n  /** Same as draggableRange but the slider range can't be changed.\n   * Applies to range slider only.\n   */\n  draggableRangeOnly?: boolean = false;\n\n  /** Set to true to always show the selection bar before the slider handle. */\n  showSelectionBar?: boolean = false;\n\n  /** Set to true to always show the selection bar after the slider handle. */\n  showSelectionBarEnd?: boolean = false;\n\n  /**  Set a number to draw the selection bar between this value and the slider handle.\n   * When using stepsArray, expressed as index into stepsArray.\n   */\n  showSelectionBarFromValue?: number = null;\n\n  /**  Only for range slider. Set to true to visualize in different colour the areas\n   * on the left/right (top/bottom for vertical range slider) of selection bar between the handles.\n   */\n  showOuterSelectionBars?: boolean = false;\n\n  /** Set to true to hide pointer labels */\n  hidePointerLabels?: boolean = false;\n\n  /** Set to true to hide min / max labels  */\n  hideLimitLabels?: boolean = false;\n\n  /** Set to false to disable the auto-hiding behavior of the limit labels. */\n  autoHideLimitLabels?: boolean = true;\n\n  /** Set to true to make the slider read-only. */\n  readOnly?: boolean = false;\n\n  /** Set to true to disable the slider. */\n  disabled?: boolean = false;\n\n  /** Throttle interval for mouse events in milliseconds.\n   * This is provided to avoid a flood of events when moving the slider with mouse.\n   */\n  mouseEventsInterval?: number = 50;\n\n  /** Throttle interval for touch events in milliseconds.\n   * This is provided to avoid a flood of events when moving the slider with touch gesture.\n   */\n  touchEventsInterval?: number = 50;\n\n  /** Throttle interval for input changes (changes to bindings or reactive form inputs)\n   * This is provided to avoid a flood of events on frequent input binding changes affecting performance.\n   */\n  inputEventsInterval?: number = 100;\n\n  /** Throttle interval for output changes (signalling changes to output bindings and user callbacks)\n   * This is provided to avoid a flood of outgoing events affecting Angular app performance.\n   */\n  outputEventsInterval?: number = 100;\n\n  /** Set to true to display a tick for each step of the slider. */\n  showTicks?: boolean = false;\n\n  /** Set to true to display a tick and the step value for each step of the slider.. */\n  showTicksValues?: boolean = false;\n\n  /* The step between each tick to display. If not set, the step value is used.\n    Not used when ticksArray is specified. */\n  tickStep?: number = null;\n\n  /* The step between displaying each tick step value. */\n  tickValueStep?: number = 1;\n\n  /** Use to display ticks at specific positions.\n   * The array contains the index of the ticks that should be displayed.\n   * For example, [0, 1, 5] will display a tick for the first, second and sixth values.\n   */\n  ticksArray?: number[] = null;\n\n  /** Used to display a tooltip when a tick is hovered.\n   * Set to a function that returns the tooltip content for a given value.\n   */\n  ticksTooltip?: (value: number) => string = null;\n\n  /** Same as ticksTooltip but for ticks values. */\n  ticksValuesTooltip?: (value: number) => string = null;\n\n  /** Set to true to display the slider vertically.\n   * The slider will take the full height of its parent.\n   * Changing this value at runtime is not currently supported.\n   */\n  vertical?: boolean = false;\n\n  /** Function that returns the current color of the selection bar.\n   * If your color won't change, don't use this option but set it through CSS.\n   * If the returned color depends on a model value (either value or valueHigh),\n   * you should use the argument passed to the function.\n   * Indeed, when the function is called, there is no certainty that the model\n   * has already been updated.\n   */\n  getSelectionBarColor?: (minValue: number, maxValue?: number) => string = null;\n\n  /** Function that returns the color of a tick. showTicks must be enabled. */\n  getTickColor?: (value: number) => string = null;\n\n  /** Function that returns the current color of a pointer.\n   * If your color won't change, don't use this option but set it through CSS.\n   * If the returned color depends on a model value (either value or valueHigh),\n   * you should use the argument passed to the function.\n   * Indeed, when the function is called, there is no certainty that the model has already been updated.\n   * To handle range slider pointers independently, you should evaluate pointerType within the given\n   * function where \"min\" stands for value model and \"max\" for valueHigh model values.\n   */\n  getPointerColor?: (value: number, pointerType: PointerType) => string = null;\n\n  /** Handles are focusable (on click or with tab) and can be modified using the following keyboard controls:\n   * Left/bottom arrows: -1\n   * Right/top arrows: +1\n   * Page-down: -10%\n   * Page-up: +10%\n   * Home: minimum value\n   * End: maximum value\n   */\n  keyboardSupport?: boolean = true;\n\n  /** If you display the slider in an element that uses transform: scale(0.5), set the scale value to 2\n   * so that the slider is rendered properly and the events are handled correctly.\n   */\n  scale?: number = 1;\n\n  /** Set to true to force the value to be rounded to the step, even when modified from the outside.\n   * When set to false, if the model values are modified from outside the slider, they are not rounded\n   * and can be between two steps.\n   */\n  enforceStep?: boolean = true;\n\n  /** Set to true to force the value to be normalised to allowed range (floor to ceil), even when modified from the outside.\n   * When set to false, if the model values are modified from outside the slider, and they are outside allowed range,\n   * the slider may be rendered incorrectly. However, setting this to false may be useful if you want to perform custom normalisation.\n   */\n  enforceRange?: boolean = true;\n\n  /** Set to true to prevent to user from switching the min and max handles. Applies to range slider only. */\n  noSwitching?: boolean = false;\n\n  /** Set to true to only bind events on slider handles. */\n  onlyBindHandles?: boolean = false;\n\n  /** Set to true to show graphs right to left.\n   * If vertical is true it will be from top to bottom and left / right arrow functions reversed.\n   */\n  rightToLeft?: boolean = false;\n\n  /** Set to true to reverse keyboard navigation:\n   * Right/top arrows: -1\n   * Left/bottom arrows: +1\n   * Page-up: -10%\n   * Page-down: +10%\n   * End: minimum value\n   * Home: maximum value\n   */\n  reversedControls?: boolean = false;\n\n  /** Set to true to keep the slider labels inside the slider bounds. */\n  boundPointerLabels?: boolean = true;\n\n  /** Set to true to use a logarithmic scale to display the slider.  */\n  logScale?: boolean = false;\n\n  /** Function that returns the position on the slider for a given value.\n   * The position must be a percentage between 0 and 1.\n   * The function should be monotonically increasing or decreasing; otherwise the slider may behave incorrectly.\n   */\n  customValueToPosition?: ValueToPositionFunction = null;\n\n  /** Function that returns the value for a given position on the slider.\n   * The position is a percentage between 0 and 1.\n   * The function should be monotonically increasing or decreasing; otherwise the slider may behave incorrectly.\n   */\n  customPositionToValue?: PositionToValueFunction = null;\n\n  /** Precision limit for calculated values.\n   * Values used in calculations will be rounded to this number of significant digits\n   * to prevent accumulating small floating-point errors.\n   */\n  precisionLimit?: number = 12;\n\n  /** Use to display the selection bar as a gradient.\n   * The given object must contain from and to properties which are colors.\n   */\n  selectionBarGradient?: {from: string, to: string} = null;\n\n  /** Use to add a label directly to the slider for accessibility. Adds the aria-label attribute. */\n  ariaLabel?: string = null;\n\n  /** Use instead of ariaLabel to reference the id of an element which will be used to label the slider.\n   * Adds the aria-labelledby attribute.\n   */\n  ariaLabelledBy?: string = null;\n\n  /** Use to add a label directly to the slider range for accessibility. Adds the aria-label attribute. */\n  ariaLabelHigh?: string = null;\n\n  /** Use instead of ariaLabelHigh to reference the id of an element which will be used to label the slider range.\n   * Adds the aria-labelledby attribute.\n   */\n  ariaLabelledByHigh?: string = null;\n\n  /** Use to increase rendering performance. If the value is not provided, the slider calculates the with/height of the handle */\n  handleDimension?: number = null;\n\n  /** Use to increase rendering performance. If the value is not provided, the slider calculates the with/height of the bar */\n  barDimension?: number = null;\n\n  /** Enable/disable CSS animations */\n  animate?: boolean = true;\n}\n","/** Pointer type */\nexport enum PointerType {\n  /** Low pointer */\n  Min,\n  /** High pointer */\n  Max\n}\n","import { PointerType } from './pointer-type';\n\nexport class ChangeContext {\n  value: number;\n  highValue?: number;\n  pointerType: PointerType;\n}\n","import { CustomStepDefinition } from '../interfaces/options';\n\n/**\n *  Collection of functions to handle conversions/lookups of values\n */\nexport class ValueHelper {\n  static isNullOrUndefined(value: any): boolean {\n    return value === undefined || value === null;\n  }\n\n  static linearValueToPosition(val: number, minVal: number, maxVal: number): number {\n    const range: number = maxVal - minVal;\n    return (val - minVal) / range;\n  }\n\n  static logValueToPosition(val: number, minVal: number, maxVal: number): number {\n    val = Math.log(val);\n    minVal = Math.log(minVal);\n    maxVal = Math.log(maxVal);\n    const range: number = maxVal - minVal;\n    return (val - minVal) / range;\n  }\n\n  static linearPositionToValue(percent: number, minVal: number, maxVal: number): number {\n    return percent * (maxVal - minVal) + minVal;\n  }\n\n  static logPositionToValue(percent: number, minVal: number, maxVal: number): number {\n    minVal = Math.log(minVal);\n    maxVal = Math.log(maxVal);\n    const value: number = percent * (maxVal - minVal) + minVal;\n    return Math.exp(value);\n  }\n\n  static findStepIndex(modelValue: number, stepsArray: CustomStepDefinition[]): number {\n    const differences: number[] = stepsArray.map((step: CustomStepDefinition): number => Math.abs(modelValue - step.value));\n\n    let minDifferenceIndex = 0;\n    for (let index = 0; index < stepsArray.length; index++) {\n      if (differences[index] !== differences[minDifferenceIndex] && differences[index] < differences[minDifferenceIndex]) {\n        minDifferenceIndex = index;\n      }\n    }\n\n    return minDifferenceIndex;\n  }\n}\n","// Declaration for ResizeObserver a new API available in some of newest browsers:\n// https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver\ndeclare class ResizeObserver {\n}\n\n/** Helper with compatibility functions to support different browsers */\nexport class CompatibilityHelper {\n  /** Workaround for TouchEvent constructor sadly not being available on all browsers (e.g. Firefox, Safari) */\n  public static isTouchEvent(event: any): boolean {\n    if ((window as any).TouchEvent !== undefined) {\n      return event instanceof TouchEvent;\n    }\n\n    return event.touches !== undefined;\n  }\n\n  /** Detect presence of ResizeObserver API */\n  public static isResizeObserverAvailable(): boolean {\n    return (window as any).ResizeObserver !== undefined;\n  }\n}\n","/** Helper with mathematical functions */\nexport class MathHelper {\n  /* Round numbers to a given number of significant digits */\n  static roundToPrecisionLimit(value: number, precisionLimit: number): number {\n    return +( value.toPrecision(precisionLimit) );\n  }\n\n  static clampToRange(value: number, floor: number, ceil: number): number {\n    return Math.min(Math.max(value, floor), ceil);\n  }\n}\n","import { Subject, Subscription } from 'rxjs';\n\nexport class EventListener {\n  eventName: string = null;\n  events: Subject<Event> = null;\n  eventsSubscription: Subscription = null;\n  teardownCallback: () => void = null;\n}\n","import { Renderer2 } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { throttleTime, tap } from 'rxjs/operators';\nimport detectPassiveEvents from 'detect-passive-events';\n\nimport { EventListener } from '../interfaces/event-listener';\nimport { ValueHelper } from './value-helper';\n\n/**\n * Helper class to attach event listeners to DOM elements with debounce support using rxjs\n */\nexport class EventListenerHelper {\n  constructor(private renderer: Renderer2) {\n  }\n\n  public attachPassiveEventListener(nativeElement: any, eventName: string, callback: (event: any) => void,\n                                    throttleInterval?: number): EventListener {\n    // Only use passive event listeners if the browser supports it\n    if (detectPassiveEvents.hasSupport !== true) {\n      return this.attachEventListener(nativeElement, eventName, callback, throttleInterval);\n    }\n\n    // Angular doesn't support passive event handlers (yet), so we need to roll our own code using native functions\n    const listener: EventListener = new EventListener();\n    listener.eventName = eventName;\n    listener.events = new Subject<Event>();\n\n    const observerCallback: (event: Event) => void = (event: Event): void => {\n      listener.events.next(event);\n    };\n    nativeElement.addEventListener(eventName, observerCallback, {passive: true, capture: false});\n\n    listener.teardownCallback = (): void => {\n      nativeElement.removeEventListener(eventName, observerCallback, {passive: true, capture: false});\n    };\n\n    listener.eventsSubscription = listener.events\n      .pipe((!ValueHelper.isNullOrUndefined(throttleInterval))\n        ? throttleTime(throttleInterval, undefined, { leading: true, trailing: true})\n        : tap(() => {}) // no-op\n      )\n      .subscribe((event: Event) => {\n        callback(event);\n      });\n\n    return listener;\n  }\n\n  public detachEventListener(eventListener: EventListener): void {\n    if (!ValueHelper.isNullOrUndefined(eventListener.eventsSubscription)) {\n      eventListener.eventsSubscription.unsubscribe();\n      eventListener.eventsSubscription = null;\n    }\n\n    if (!ValueHelper.isNullOrUndefined(eventListener.events)) {\n      eventListener.events.complete();\n      eventListener.events = null;\n    }\n\n    if (!ValueHelper.isNullOrUndefined(eventListener.teardownCallback)) {\n      eventListener.teardownCallback();\n      eventListener.teardownCallback = null;\n    }\n  }\n\n  public attachEventListener(nativeElement: any, eventName: string, callback: (event: any) => void,\n                             throttleInterval?: number): EventListener {\n    const listener: EventListener = new EventListener();\n    listener.eventName = eventName;\n    listener.events = new Subject<Event>();\n\n    const observerCallback: (event: Event) => void = (event: Event): void => {\n      listener.events.next(event);\n    };\n\n    listener.teardownCallback = this.renderer.listen(nativeElement, eventName, observerCallback);\n\n    listener.eventsSubscription = listener.events\n      .pipe((!ValueHelper.isNullOrUndefined(throttleInterval))\n          ? throttleTime(throttleInterval, undefined, { leading: true, trailing: true})\n          : tap(() => {}) // no-op\n      )\n      .subscribe((event: Event) => { callback(event); });\n\n    return listener;\n  }\n}\n","  // tslint:disable: variable-name\nimport { Directive, ElementRef, Renderer2, HostBinding } from '@angular/core';\nimport { EventListenerHelper } from '../helpers/event-listener-helper';\nimport { EventListener } from '../interfaces/event-listener';\nimport { ValueHelper } from '../helpers/value-helper';\n\n@Directive({\n  selector: '[ngxSliderElement]'\n})\nexport class SliderElementDirective {\n  private _position = 0;\n  get position(): number {\n    return this._position;\n  }\n\n  private _dimension = 0;\n  get dimension(): number {\n    return this._dimension;\n  }\n\n  private _alwaysHide = false;\n  get alwaysHide(): boolean {\n    return this._alwaysHide;\n  }\n\n  private _vertical = false;\n  get vertical(): boolean {\n    return this._vertical;\n  }\n\n  private _scale = 1;\n  get scale(): number {\n    return this._scale;\n  }\n\n  @HostBinding('style.opacity')\n  opacity = 1;\n\n  @HostBinding('style.visibility')\n  visibility = 'visible';\n\n  @HostBinding('style.left')\n  left = '';\n\n  @HostBinding('style.bottom')\n  bottom = '';\n\n  @HostBinding('style.height')\n  height = '';\n\n  @HostBinding('style.width')\n  width = '';\n\n  private eventListenerHelper: EventListenerHelper;\n  private eventListeners: EventListener[] = [];\n\n  constructor(protected elemRef: ElementRef, protected renderer: Renderer2) {\n    this.eventListenerHelper = new EventListenerHelper(this.renderer);\n  }\n\n  setAlwaysHide(hide: boolean): void {\n    this._alwaysHide = hide;\n    if (hide) {\n      this.visibility = 'hidden';\n    } else {\n      this.visibility = 'visible';\n    }\n  }\n\n  hide(): void {\n    this.opacity = 0;\n  }\n\n  show(): void {\n    if (this.alwaysHide) {\n      return;\n    }\n\n    this.opacity = 1;\n  }\n\n  isVisible(): boolean {\n    if (this.alwaysHide) {\n      return false;\n    }\n    return this.opacity !== 0;\n  }\n\n  setVertical(vertical: boolean): void {\n    this._vertical = vertical;\n    if (this._vertical) {\n      this.left = '';\n      this.width = '';\n    } else {\n      this.bottom = '';\n      this.height = '';\n    }\n  }\n\n  setScale(scale: number): void {\n    this._scale = scale;\n  }\n\n   // Set element left/top position depending on whether slider is horizontal or vertical\n  setPosition(pos: number): void {\n    this._position = pos;\n    if (this._vertical) {\n      this.bottom = Math.round(pos) + 'px';\n    } else {\n      this.left = Math.round(pos) + 'px';\n    }\n  }\n\n  // Calculate element's width/height depending on whether slider is horizontal or vertical\n  calculateDimension(): void {\n    const val: ClientRect = this.getBoundingClientRect();\n    if (this.vertical) {\n      this._dimension = (val.bottom - val.top) * this.scale;\n    } else {\n      this._dimension = (val.right - val.left) * this.scale;\n    }\n  }\n\n  // Set element width/height depending on whether slider is horizontal or vertical\n  setDimension(dim: number): void {\n    this._dimension = dim;\n    if (this._vertical) {\n      this.height = Math.round(dim) + 'px';\n    } else {\n      this.width = Math.round(dim) + 'px';\n    }\n  }\n\n  getBoundingClientRect(): ClientRect {\n    return this.elemRef.nativeElement.getBoundingClientRect();\n  }\n\n  on(eventName: string, callback: (event: any) => void, debounceInterval?: number): void {\n    const listener: EventListener = this.eventListenerHelper.attachEventListener(\n      this.elemRef.nativeElement, eventName, callback, debounceInterval);\n    this.eventListeners.push(listener);\n  }\n\n  onPassive(eventName: string, callback: (event: any) => void, debounceInterval?: number): void {\n    const listener: EventListener = this.eventListenerHelper.attachPassiveEventListener(\n      this.elemRef.nativeElement, eventName, callback, debounceInterval);\n    this.eventListeners.push(listener);\n  }\n\n  off(eventName?: string): void {\n    let listenersToKeep: EventListener[];\n    let listenersToRemove: EventListener[];\n    if (!ValueHelper.isNullOrUndefined(eventName)) {\n      listenersToKeep = this.eventListeners.filter((event: EventListener) => event.eventName !== eventName);\n      listenersToRemove = this.eventListeners.filter((event: EventListener) => event.eventName === eventName);\n    } else {\n      listenersToKeep = [];\n      listenersToRemove = this.eventListeners;\n    }\n\n    for (const listener of listenersToRemove) {\n      this.eventListenerHelper.detachEventListener(listener);\n    }\n\n    this.eventListeners = listenersToKeep;\n  }\n}\n","import { Directive, ElementRef, Renderer2, HostBinding } from '@angular/core';\nimport { SliderElementDirective } from './slider-element.directive';\n\n@Directive({\n  selector: '[ngxSliderHandle]'\n})\nexport class SliderHandleDirective extends SliderElementDirective {\n  @HostBinding('class.ngx-slider-active')\n  active = false;\n\n  @HostBinding('attr.role')\n  role = '';\n\n  @HostBinding('attr.tabindex')\n  tabindex = '';\n\n  @HostBinding('attr.aria-orientation')\n  ariaOrientation = '';\n\n  @HostBinding('attr.aria-label')\n  ariaLabel = '';\n\n  @HostBinding('attr.aria-labelledby')\n  ariaLabelledBy = '';\n\n  @HostBinding('attr.aria-valuenow')\n  ariaValueNow = '';\n\n  @HostBinding('attr.aria-valuetext')\n  ariaValueText = '';\n\n  @HostBinding('attr.aria-valuemin')\n  ariaValueMin = '';\n\n  @HostBinding('attr.aria-valuemax')\n  ariaValueMax = '';\n\n  focus(): void {\n    this.elemRef.nativeElement.focus();\n  }\n\n  constructor(elemRef: ElementRef, renderer: Renderer2) {\n    super(elemRef, renderer);\n  }\n}\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\nimport { SliderElementDirective } from './slider-element.directive';\nimport { ValueHelper } from '../helpers/value-helper';\n\n@Directive({\n  selector: '[ngxSliderLabel]'\n})\nexport class SliderLabelDirective extends SliderElementDirective {\n  // tslint:disable-next-line: variable-name\n  private _value: string = null;\n  get value(): string {\n    return this._value;\n  }\n\n  constructor(elemRef: ElementRef, renderer: Renderer2) {\n    super(elemRef, renderer);\n  }\n\n  setValue(value: string): void {\n    let recalculateDimension = false;\n\n    if (!this.alwaysHide &&\n        (ValueHelper.isNullOrUndefined(this.value) ||\n         this.value.length !== value.length ||\n         (this.value.length > 0 && this.dimension === 0))) {\n      recalculateDimension = true;\n    }\n\n    this._value = value;\n    this.elemRef.nativeElement.innerHTML = value;\n\n    // Update dimension only when length of the label have changed\n    if (recalculateDimension) {\n      this.calculateDimension();\n    }\n  }\n}\n","import {\n  Component,\n  OnInit,\n  ViewChild,\n  AfterViewInit,\n  OnChanges,\n  OnDestroy,\n  HostBinding,\n  HostListener,\n  Input,\n  ElementRef,\n  Renderer2,\n  EventEmitter,\n  Output,\n  ContentChild,\n  TemplateRef,\n  ChangeDetectorRef,\n  SimpleChanges,\n  forwardRef,\n  NgZone\n} from '@angular/core';\n\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { Subject, Subscription } from 'rxjs';\nimport { distinctUntilChanged, filter, throttleTime, tap } from 'rxjs/operators';\n\nimport detectPassiveEvents from 'detect-passive-events';\n\nimport {\n  Options,\n  LabelType,\n  ValueToPositionFunction,\n  PositionToValueFunction,\n  CustomStepDefinition\n} from '../interfaces/options';\nimport { PointerType } from '../interfaces/pointer-type';\nimport { ChangeContext } from '../interfaces/change-context';\nimport { ValueHelper } from '../helpers/value-helper';\nimport { CompatibilityHelper } from '../helpers/compatibility-helper';\nimport { MathHelper } from '../helpers/math-helper';\nimport { EventListener } from '../interfaces/event-listener';\nimport { EventListenerHelper } from '../helpers/event-listener-helper';\nimport { SliderElementDirective } from '../directives/slider-element.directive';\nimport { SliderHandleDirective } from '../directives/slider-handle.directive';\nimport { SliderLabelDirective } from '../directives/slider-label.directive';\n\n// Declaration for ResizeObserver a new API available in some of newest browsers:\n// https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver\ndeclare class ResizeObserver {\n  constructor(callback: () => void);\n  observe(target: any): void;\n  unobserve(target: any): void;\n  disconnect(): void;\n}\n\nexport class Tick {\n  selected = false;\n  style: any = {};\n  tooltip: string = null;\n  tooltipPlacement: string = null;\n  value: string = null;\n  valueTooltip: string = null;\n  valueTooltipPlacement: string = null;\n  legend: string = null;\n}\n\nclass Dragging {\n  active = false;\n  value = 0;\n  difference = 0;\n  position = 0;\n  lowLimit = 0;\n  highLimit = 0;\n}\n\nclass ModelValues {\n  value: number;\n  highValue: number;\n\n  public static compare(x?: ModelValues, y?: ModelValues): boolean {\n    if (ValueHelper.isNullOrUndefined(x) && ValueHelper.isNullOrUndefined(y)) {\n      return false;\n    }\n    if (ValueHelper.isNullOrUndefined(x) !== ValueHelper.isNullOrUndefined(y)) {\n      return false;\n    }\n    return x.value === y.value && x.highValue === y.highValue;\n  }\n}\n\nclass ModelChange extends ModelValues {\n  // Flag used to by-pass distinctUntilChanged() filter on input values\n  // (sometimes there is a need to pass values through even though the model values have not changed)\n  forceChange: boolean;\n\n  public static compare(x?: ModelChange, y?: ModelChange): boolean {\n    if (ValueHelper.isNullOrUndefined(x) && ValueHelper.isNullOrUndefined(y)) {\n      return false;\n    }\n    if (ValueHelper.isNullOrUndefined(x) !== ValueHelper.isNullOrUndefined(y)) {\n      return false;\n    }\n    return x.value === y.value &&\n           x.highValue === y.highValue &&\n           x.forceChange === y.forceChange;\n  }\n}\n\nclass InputModelChange extends ModelChange {\n  internalChange: boolean;\n}\n\nclass OutputModelChange extends ModelChange {\n  userEventInitiated: boolean;\n}\n\nconst NGX_SLIDER_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  /* tslint:disable-next-line: no-use-before-declare */\n  useExisting: forwardRef(() => SliderComponent),\n  multi: true,\n};\n\n\n@Component({\n  selector: 'ngx-slider',\n  templateUrl: './slider.component.html',\n  styleUrls: ['./slider.component.scss'],\n  // tslint:disable-next-line: no-host-metadata-property\n  host: { class: 'ngx-slider' },\n  providers: [NGX_SLIDER_CONTROL_VALUE_ACCESSOR]\n})\nexport class SliderComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy, ControlValueAccessor {\n  // Model for low value of slider. For simple slider, this is the only input. For range slider, this is the low value.\n  @Input()\n  public value: number = null;\n  // Output for low value slider to support two-way bindings\n  @Output()\n  public valueChange: EventEmitter<number> = new EventEmitter();\n\n  // Model for high value of slider. Not used in simple slider. For range slider, this is the high value.\n  @Input()\n  public highValue: number = null;\n  // Output for high value slider to support two-way bindings\n  @Output()\n  public highValueChange: EventEmitter<number> = new EventEmitter();\n\n  // An object with all the other options of the slider.\n  // Each option can be updated at runtime and the slider will automatically be re-rendered.\n  @Input()\n  public options: Options = new Options();\n\n  // Event emitted when user starts interaction with the slider\n  @Output()\n  public userChangeStart: EventEmitter<ChangeContext> = new EventEmitter();\n\n  // Event emitted on each change coming from user interaction\n  @Output()\n  public userChange: EventEmitter<ChangeContext> = new EventEmitter();\n\n  // Event emitted when user finishes interaction with the slider\n  @Output()\n  public userChangeEnd: EventEmitter<ChangeContext> = new EventEmitter();\n\n  private manualRefreshSubscription: any;\n  // Input event that triggers slider refresh (re-positioning of slider elements)\n  @Input() set manualRefresh(manualRefresh: EventEmitter<void>) {\n    this.unsubscribeManualRefresh();\n\n    this.manualRefreshSubscription = manualRefresh.subscribe(() => {\n      setTimeout(() => this.calculateViewDimensionsAndDetectChanges());\n    });\n  }\n\n  private triggerFocusSubscription: any;\n  // Input event that triggers setting focus on given slider handle\n  @Input() set triggerFocus(triggerFocus: EventEmitter<void>) {\n    this.unsubscribeTriggerFocus();\n\n    this.triggerFocusSubscription = triggerFocus.subscribe((pointerType: PointerType) => {\n      this.focusPointer(pointerType);\n    });\n  }\n\n  // Slider type, true means range slider\n  public get range(): boolean {\n    return !ValueHelper.isNullOrUndefined(this.value) && !ValueHelper.isNullOrUndefined(this.highValue);\n  }\n\n  // Set to true if init method already executed\n  private initHasRun = false;\n\n  // Changes in model inputs are passed through this subject\n  // These are all changes coming in from outside the component through input bindings or reactive form inputs\n  private inputModelChangeSubject: Subject<InputModelChange> = new Subject<InputModelChange>();\n  private inputModelChangeSubscription: Subscription = null;\n\n  // Changes to model outputs are passed through this subject\n  // These are all changes that need to be communicated to output emitters and registered callbacks\n  private outputModelChangeSubject: Subject<OutputModelChange> = new Subject<OutputModelChange>();\n  private outputModelChangeSubscription: Subscription = null;\n\n  // Low value synced to model low value\n  private viewLowValue: number = null;\n  // High value synced to model high value\n  private viewHighValue: number = null;\n  // Options synced to model options, based on defaults\n  private viewOptions: Options = new Options();\n\n  // Half of the width or height of the slider handles\n  private handleHalfDimension = 0;\n  // Maximum position the slider handle can have\n  private maxHandlePosition = 0;\n\n  // Which handle is currently tracked for move events\n  private currentTrackingPointer: PointerType = null;\n  // Internal variable to keep track of the focus element\n  private currentFocusPointer: PointerType = null;\n  // Used to call onStart on the first keydown event\n  private firstKeyDown = false;\n  // Current touch id of touch event being handled\n  private touchId: number = null;\n  // Values recorded when first dragging the bar\n  private dragging: Dragging = new Dragging();\n\n  /* Slider DOM elements */\n\n  // Left selection bar outside two handles\n  @ViewChild('leftOuterSelectionBar', {read: SliderElementDirective, static: false})\n  private leftOuterSelectionBarElement: SliderElementDirective;\n\n  // Right selection bar outside two handles\n  @ViewChild('rightOuterSelectionBar', {read: SliderElementDirective, static: false})\n  private rightOuterSelectionBarElement: SliderElementDirective;\n\n  // The whole slider bar\n  @ViewChild('fullBar', {read: SliderElementDirective, static: false})\n  private fullBarElement: SliderElementDirective;\n\n  // Highlight between two handles\n  @ViewChild('selectionBar', {read: SliderElementDirective, static: false})\n  private selectionBarElement: SliderElementDirective;\n\n  // Left slider handle\n  @ViewChild('minHandle', {read: SliderHandleDirective, static: false})\n  private minHandleElement: SliderHandleDirective;\n\n  // Right slider handle\n  @ViewChild('maxHandle', {read: SliderHandleDirective, static: false})\n  private maxHandleElement: SliderHandleDirective;\n\n  // Floor label\n  @ViewChild('floorLabel', {read: SliderLabelDirective, static: false})\n  private floorLabelElement: SliderLabelDirective;\n\n  // Ceiling label\n  @ViewChild('ceilLabel', {read: SliderLabelDirective, static: false})\n  private ceilLabelElement: SliderLabelDirective;\n\n  // Label above the low value\n  @ViewChild('minHandleLabel', {read: SliderLabelDirective, static: false})\n  private minHandleLabelElement: SliderLabelDirective;\n\n  // Label above the high value\n  @ViewChild('maxHandleLabel', {read: SliderLabelDirective, static: false})\n  private maxHandleLabelElement: SliderLabelDirective;\n\n  // Combined label\n  @ViewChild('combinedLabel', {read: SliderLabelDirective, static: false})\n  private combinedLabelElement: SliderLabelDirective;\n\n  // The ticks\n  @ViewChild('ticksElement', {read: SliderElementDirective, static: false})\n  private ticksElement: SliderElementDirective;\n\n  // Optional custom template for displaying tooltips\n  @ContentChild('tooltipTemplate', {static: false})\n  public tooltipTemplate: TemplateRef<any>;\n\n  // Host element class bindings\n  @HostBinding('class.vertical')\n  public sliderElementVerticalClass = false;\n  @HostBinding('class.animate')\n  public sliderElementAnimateClass = false;\n  @HostBinding('attr.disabled')\n  public sliderElementDisabledAttr: string = null;\n\n  // CSS styles and class flags\n  public barStyle: any = {};\n  public minPointerStyle: any = {};\n  public maxPointerStyle: any = {};\n  public fullBarTransparentClass = false;\n  public selectionBarDraggableClass = false;\n  public ticksUnderValuesClass = false;\n\n  // Whether to show/hide ticks\n  public get showTicks(): boolean {\n    return this.viewOptions.showTicks;\n  }\n\n  /* If tickStep is set or ticksArray is specified.\n     In this case, ticks values should be displayed below the slider. */\n  private intermediateTicks = false;\n  // Ticks array as displayed in view\n  public ticks: Tick[] = [];\n\n  // Event listeners\n  private eventListenerHelper: EventListenerHelper = null;\n  private onMoveEventListener: EventListener = null;\n  private onEndEventListener: EventListener = null;\n\n  // Observer for slider element resize events\n  private resizeObserver: ResizeObserver = null;\n\n  // Callbacks for reactive forms support\n  private onTouchedCallback: (value: any) => void = null;\n  private onChangeCallback: (value: any) => void = null;\n\n\n  public constructor(private renderer: Renderer2,\n                     private elementRef: ElementRef,\n                     private changeDetectionRef: ChangeDetectorRef,\n                     private zone: NgZone) {\n    this.eventListenerHelper = new EventListenerHelper(this.renderer);\n  }\n\n  // OnInit interface\n  public ngOnInit(): void {\n    this.viewOptions = new Options();\n    Object.assign(this.viewOptions, this.options);\n\n    // We need to run these two things first, before the rest of the init in ngAfterViewInit(),\n    // because these two settings are set through @HostBinding and Angular change detection\n    // mechanism doesn't like them changing in ngAfterViewInit()\n    this.updateDisabledState();\n    this.updateVerticalState();\n  }\n\n  // AfterViewInit interface\n  public ngAfterViewInit(): void {\n    this.applyOptions();\n\n    this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval);\n    this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval);\n\n    // Once we apply options, we need to normalise model values for the first time\n    this.renormaliseModelValues();\n\n    this.viewLowValue = this.modelValueToViewValue(this.value);\n    if (this.range) {\n      this.viewHighValue = this.modelValueToViewValue(this.highValue);\n    } else {\n      this.viewHighValue = null;\n    }\n\n    this.updateVerticalState(); // need to run this again to cover changes to slider elements\n    this.manageElementsStyle();\n    this.updateDisabledState();\n    this.calculateViewDimensions();\n    this.addAccessibility();\n    this.updateCeilLabel();\n    this.updateFloorLabel();\n    this.initHandles();\n    this.manageEventsBindings();\n\n    this.subscribeResizeObserver();\n\n    this.initHasRun = true;\n\n    // Run change detection manually to resolve some issues when init procedure changes values used in the view\n    this.changeDetectionRef.detectChanges();\n  }\n\n  // OnChanges interface\n  public ngOnChanges(changes: SimpleChanges): void {\n    // Always apply options first\n    if (!ValueHelper.isNullOrUndefined(changes.options)) {\n      this.onChangeOptions();\n    }\n\n    // Then value changes\n    if (!ValueHelper.isNullOrUndefined(changes.value) ||\n        !ValueHelper.isNullOrUndefined(changes.highValue)) {\n      this.inputModelChangeSubject.next({\n        value: this.value,\n        highValue: this.highValue,\n        forceChange: false,\n        internalChange: false\n      });\n    }\n  }\n\n  // OnDestroy interface\n  public ngOnDestroy(): void {\n    this.unbindEvents();\n\n    this.unsubscribeResizeObserver();\n    this.unsubscribeInputModelChangeSubject();\n    this.unsubscribeOutputModelChangeSubject();\n    this.unsubscribeManualRefresh();\n    this.unsubscribeTriggerFocus();\n  }\n\n  // ControlValueAccessor interface\n  public writeValue(obj: any): void {\n    if (obj instanceof Array) {\n      this.value = obj[0];\n      this.highValue = obj[1];\n    } else {\n      this.value = obj;\n    }\n\n    // ngOnChanges() is not called in this instance, so we need to communicate the change manually\n    this.inputModelChangeSubject.next({\n      value: this.value,\n      highValue: this.highValue,\n      forceChange: false,\n      internalChange: false\n    });\n  }\n\n  // ControlValueAccessor interface\n  public registerOnChange(onChangeCallback: any): void {\n    this.onChangeCallback = onChangeCallback;\n  }\n\n  // ControlValueAccessor interface\n  public registerOnTouched(onTouchedCallback: any): void {\n    this.onTouchedCallback = onTouchedCallback;\n  }\n\n  // ControlValueAccessor interface\n  public setDisabledState(isDisabled: boolean): void {\n    this.viewOptions.disabled = isDisabled;\n    this.updateDisabledState();\n  }\n\n  @HostListener('window:resize', ['$event'])\n  public onResize(event: any): void {\n    this.calculateViewDimensionsAndDetectChanges();\n  }\n\n  private subscribeInputModelChangeSubject(interval?: number): void {\n    this.inputModelChangeSubscription = this.inputModelChangeSubject\n    .pipe(\n      distinctUntilChanged(ModelChange.compare),\n      // Hack to reset the status of the distinctUntilChanged() - if a \"fake\" event comes through with forceChange=true,\n      // we forcefully by-pass distinctUntilChanged(), but otherwise drop the event\n      filter((modelChange: InputModelChange) => !modelChange.forceChange && !modelChange.internalChange),\n      (!ValueHelper.isNullOrUndefined(interval))\n          ? throttleTime(interval, undefined, { leading: true, trailing: true})\n          : tap(() => {}) // no-op\n    )\n    .subscribe((modelChange: InputModelChange) => this.applyInputModelChange(modelChange));\n  }\n\n  private subscribeOutputModelChangeSubject(interval?: number): void {\n    this.outputModelChangeSubscription = this.outputModelChangeSubject\n      .pipe(\n        distinctUntilChanged(ModelChange.compare),\n        (!ValueHelper.isNullOrUndefined(interval))\n          ? throttleTime(interval, undefined, { leading: true, trailing: true})\n          : tap(() => {}) // no-op\n      )\n      .subscribe((modelChange: OutputModelChange) => this.publishOutputModelChange(modelChange));\n  }\n\n  private subscribeResizeObserver(): void {\n    if (CompatibilityHelper.isResizeObserverAvailable()) {\n      this.resizeObserver = new ResizeObserver((): void => this.calculateViewDimensionsAndDetectChanges());\n      this.resizeObserver.observe(this.elementRef.nativeElement);\n    }\n  }\n\n  private unsubscribeResizeObserver(): void {\n    if (CompatibilityHelper.isResizeObserverAvailable() && this.resizeObserver !== null) {\n      this.resizeObserver.disconnect();\n      this.resizeObserver = null;\n    }\n  }\n\n  private unsubscribeOnMove(): void {\n    if (!ValueHelper.isNullOrUndefined(this.onMoveEventListener)) {\n      this.eventListenerHelper.detachEventListener(this.onMoveEventListener);\n      this.onMoveEventListener = null;\n    }\n  }\n\n  private unsubscribeOnEnd(): void {\n    if (!ValueHelper.isNullOrUndefined(this.onEndEventListener)) {\n      this.eventListenerHelper.detachEventListener(this.onEndEventListener);\n      this.onEndEventListener = null;\n    }\n  }\n\n  private unsubscribeInputModelChangeSubject(): void {\n    if (!ValueHelper.isNullOrUndefined(this.inputModelChangeSubscription)) {\n      this.inputModelChangeSubscription.unsubscribe();\n      this.inputModelChangeSubscription = null;\n    }\n  }\n\n  private unsubscribeOutputModelChangeSubject(): void {\n    if (!ValueHelper.isNullOrUndefined(this.outputModelChangeSubscription)) {\n      this.outputModelChangeSubscription.unsubscribe();\n      this.outputModelChangeSubscription = null;\n    }\n  }\n\n  private unsubscribeManualRefresh(): void {\n    if (!ValueHelper.isNullOrUndefined(this.manualRefreshSubscription)) {\n      this.manualRefreshSubscription.unsubscribe();\n      this.manualRefreshSubscription = null;\n    }\n  }\n\n  private unsubscribeTriggerFocus(): void {\n    if (!ValueHelper.isNullOrUndefined(this.triggerFocusSubscription)) {\n      this.triggerFocusSubscription.unsubscribe();\n      this.triggerFocusSubscription = null;\n    }\n  }\n\n  private getPointerElement(pointerType: PointerType): SliderHandleDirective {\n    if (pointerType === PointerType.Min) {\n      return this.minHandleElement;\n    } else if (pointerType === PointerType.Max) {\n      return this.maxHandleElement;\n    }\n    return null;\n  }\n\n  private getCurrentTrackingValue(): number {\n    if (this.currentTrackingPointer === PointerType.Min) {\n      return this.viewLowValue;\n    } else if (this.currentTrackingPointer === PointerType.Max) {\n      return this.viewHighValue;\n    }\n    return null;\n  }\n\n  private modelValueToViewValue(modelValue: number): number {\n    if (ValueHelper.isNullOrUndefined(modelValue)) {\n      return NaN;\n    }\n\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.stepsArray) && !this.viewOptions.bindIndexForStepsArray) {\n      return ValueHelper.findStepIndex(+modelValue, this.viewOptions.stepsArray);\n    }\n    return +modelValue;\n  }\n\n  private viewValueToModelValue(viewValue: number): number {\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.stepsArray) && !this.viewOptions.bindIndexForStepsArray) {\n      return this.getStepValue(viewValue);\n    }\n    return viewValue;\n  }\n\n  private getStepValue(sliderValue: number): number {\n    const step: CustomStepDefinition = this.viewOptions.stepsArray[sliderValue];\n    return (!ValueHelper.isNullOrUndefined(step)) ? step.value : NaN;\n  }\n\n  private applyViewChange(): void {\n    this.value = this.viewValueToModelValue(this.viewLowValue);\n    if (this.range) {\n      this.highValue = this.viewValueToModelValue(this.viewHighValue);\n    }\n\n    this.outputModelChangeSubject.next({\n      value: this.value,\n      highValue: this.highValue,\n      userEventInitiated: true,\n      forceChange: false\n    });\n\n    // At this point all changes are applied and outputs are emitted, so we should be done.\n    // However, input changes are communicated in different stream and we need to be ready to\n    // act on the next input change even if it is exactly the same as last input change.\n    // Therefore, we send a special event to reset the stream.\n    this.inputModelChangeSubject.next({\n      value: this.value,\n      highValue: this.highValue,\n      forceChange: false,\n      internalChange: true\n    });\n  }\n\n  // Apply model change to the slider view\n  private applyInputModelChange(modelChange: InputModelChange): void {\n    const normalisedModelChange: ModelValues = this.normaliseModelValues(modelChange);\n\n    // If normalised model change is different, apply the change to the model values\n    const normalisationChange: boolean = !ModelValues.compare(modelChange, normalisedModelChange);\n    if (normalisationChange) {\n      this.value = normalisedModelChange.value;\n      this.highValue = normalisedModelChange.highValue;\n    }\n\n    this.viewLowValue = this.modelValueToViewValue(normalisedModelChange.value);\n    if (this.range) {\n      this.viewHighValue = this.modelValueToViewValue(normalisedModelChange.highValue);\n    } else {\n      this.viewHighValue = null;\n    }\n\n    this.updateLowHandle(this.valueToPosition(this.viewLowValue));\n    if (this.range) {\n      this.updateHighHandle(this.valueToPosition(this.viewHighValue));\n    }\n    this.updateSelectionBar();\n    this.updateTicksScale();\n    this.updateAriaAttributes();\n    if (this.range) {\n      this.updateCombinedLabel();\n    }\n\n    // At the end, we need to communicate the model change to the outputs as well\n    // Normalisation changes are also always forced out to ensure that subscribers always end up in correct state\n    this.outputModelChangeSubject.next({\n      value: normalisedModelChange.value,\n      highValue: normalisedModelChange.highValue,\n      forceChange: normalisationChange,\n      userEventInitiated: false\n    });\n  }\n\n  // Publish model change to output event emitters and registered callbacks\n  private publishOutputModelChange(modelChange: OutputModelChange): void {\n    const emitOutputs: () => void = (): void => {\n      this.valueChange.emit(modelChange.value);\n      if (this.range) {\n        this.highValueChange.emit(modelChange.highValue);\n      }\n\n      if (!ValueHelper.isNullOrUndefined(this.onChangeCallback)) {\n        if (this.range) {\n          this.onChangeCallback([modelChange.value, modelChange.highValue]);\n        } else {\n          this.onChangeCallback(modelChange.value);\n        }\n      }\n      if (!ValueHelper.isNullOrUndefined(this.onTouchedCallback)) {\n        if (this.range) {\n          this.onTouchedCallback([modelChange.value, modelChange.highValue]);\n        } else {\n          this.onTouchedCallback(modelChange.value);\n        }\n      }\n    };\n\n    if (modelChange.userEventInitiated) {\n      // If this change was initiated by a user event, we can emit outputs in the same tick\n      emitOutputs();\n      this.userChange.emit(this.getChangeContext());\n    } else {\n      // But, if the change was initated by something else like a change in input bindings,\n      // we need to wait until next tick to emit the outputs to keep Angular change detection happy\n      setTimeout(() => { emitOutputs(); });\n    }\n  }\n\n  private normaliseModelValues(input: ModelValues): ModelValues {\n    const normalisedInput: ModelValues = new ModelValues();\n    normalisedInput.value = input.value;\n    normalisedInput.highValue = input.highValue;\n\n    if (this.viewOptions.enforceStep) {\n      normalisedInput.value = this.roundStep(normalisedInput.value);\n      if (this.range) {\n        normalisedInput.highValue = this.roundStep(normalisedInput.highValue);\n      }\n    }\n\n    // Don't attempt to normalise further when using steps array (steps may be out of order and that is perfectly fine)\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.stepsArray) || !this.viewOptions.enforceRange) {\n      return normalisedInput;\n    }\n\n    normalisedInput.value = MathHelper.clampToRange(normalisedInput.value, this.viewOptions.floor, this.viewOptions.ceil);\n\n    if (this.range) {\n      normalisedInput.highValue = MathHelper.clampToRange(normalisedInput.highValue, this.viewOptions.floor, this.viewOptions.ceil);\n    }\n\n    // Make sure that range slider invariant (value <= highValue) is always satisfied\n    if (this.range && input.value > input.highValue) {\n      // We know that both values are now clamped correctly, they may just be in the wrong order\n      // So the easy solution is to swap them... except swapping is sometimes disabled in options, so we make the two values the same\n      if (this.viewOptions.noSwitching) {\n        normalisedInput.value = normalisedInput.highValue;\n      } else {\n        const tempValue: number = input.value;\n        normalisedInput.value = input.highValue;\n        normalisedInput.highValue = tempValue;\n      }\n    }\n\n    return normalisedInput;\n  }\n\n  private renormaliseModelValues(): void {\n    const previousModelValues: ModelValues = {\n      value: this.value,\n      highValue: this.highValue\n    };\n    const normalisedModelValues: ModelValues = this.normaliseModelValues(previousModelValues);\n    if (!ModelValues.compare(normalisedModelValues, previousModelValues)) {\n      this.value = normalisedModelValues.value;\n      this.highValue = normalisedModelValues.highValue;\n\n      this.outputModelChangeSubject.next({\n        value: this.value,\n        highValue: this.highValue,\n        forceChange: true,\n        userEventInitiated: false\n      });\n    }\n  }\n\n  private onChangeOptions(): void {\n    if (!this.initHasRun) {\n      return;\n    }\n\n    const previousInputEventsInterval: number = this.viewOptions.inputEventsInterval;\n    const previousOutputEventsInterval: number = this.viewOptions.outputEventsInterval;\n\n    this.applyOptions();\n\n    if (previousInputEventsInterval !== this.viewOptions.inputEventsInterval) {\n      this.unsubscribeInputModelChangeSubject();\n      this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval);\n    }\n\n    if (previousOutputEventsInterval !== this.viewOptions.outputEventsInterval) {\n      this.unsubscribeInputModelChangeSubject();\n      this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval);\n    }\n\n    // With new options, we need to re-normalise model values if necessary\n    this.renormaliseModelValues();\n\n    this.viewLowValue = this.modelValueToViewValue(this.value);\n    if (this.range) {\n      this.viewHighValue = this.modelValueToViewValue(this.highValue);\n    } else {\n      this.viewHighValue = null;\n    }\n\n    this.resetSlider();\n  }\n\n  // Read the user options and apply them to the slider model\n  private applyOptions(): void {\n    this.viewOptions = new Options();\n    Object.assign(this.viewOptions, this.options);\n\n    this.viewOptions.draggableRange = this.range && this.viewOptions.draggableRange;\n    this.viewOptions.draggableRangeOnly = this.range && this.viewOptions.draggableRangeOnly;\n    if (this.viewOptions.draggableRangeOnly) {\n      this.viewOptions.draggableRange = true;\n    }\n\n    this.viewOptions.showTicks = this.viewOptions.showTicks ||\n      this.viewOptions.showTicksValues ||\n      !ValueHelper.isNullOrUndefined(this.viewOptions.ticksArray);\n    if (this.viewOptions.showTicks &&\n       (!ValueHelper.isNullOrUndefined(this.viewOptions.tickStep) || !ValueHelper.isNullOrUndefined(this.viewOptions.ticksArray))) {\n      this.intermediateTicks = true;\n    }\n\n    this.viewOptions.showSelectionBar = this.viewOptions.showSelectionBar ||\n      this.viewOptions.showSelectionBarEnd ||\n      !ValueHelper.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue);\n\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.stepsArray)) {\n      this.applyStepsArrayOptions();\n    } else {\n      this.applyFloorCeilOptions();\n    }\n\n    if (ValueHelper.isNullOrUndefined(this.viewOptions.combineLabels)) {\n      this.viewOptions.combineLabels = (minValue: string, maxValue: string): string => {\n        return minValue + ' - ' + maxValue;\n      };\n    }\n\n    if (this.viewOptions.logScale && this.viewOptions.floor === 0) {\n      throw Error('Can\\'t use floor=0 with logarithmic scale');\n    }\n  }\n\n  private applyStepsArrayOptions(): void {\n    this.viewOptions.floor = 0;\n    this.viewOptions.ceil = this.viewOptions.stepsArray.length - 1;\n    this.viewOptions.step = 1;\n\n    if (ValueHelper.isNullOrUndefined(this.viewOptions.translate)) {\n      this.viewOptions.translate = (modelValue: number): string => {\n        if (this.viewOptions.bindIndexForStepsArray) {\n          return String(this.getStepValue(modelValue));\n        }\n        return String(modelValue);\n      };\n    }\n\n    this.viewOptions.getLegend = (index: number): string => {\n      const step: CustomStepDefinition = this.viewOptions.stepsArray[index];\n      return step.legend;\n    };\n  }\n\n  private applyFloorCeilOptions(): void {\n    if (ValueHelper.isNullOrUndefined(this.viewOptions.step)) {\n      this.viewOptions.step = 1;\n    } else {\n      this.viewOptions.step = +this.viewOptions.step;\n      if (this.viewOptions.step <= 0) {\n        this.viewOptions.step = 1;\n     }\n    }\n\n    if (ValueHelper.isNullOrUndefined(this.viewOptions.ceil) ||\n        ValueHelper.isNullOrUndefined(this.viewOptions.floor)) {\n      throw Error('floor and ceil options must be supplied');\n    }\n    this.viewOptions.ceil = +this.viewOptions.ceil;\n    this.viewOptions.floor = +this.viewOptions.floor;\n\n    if (ValueHelper.isNullOrUndefined(this.viewOptions.translate)) {\n      this.viewOptions.translate = (value: number): string => String(value);\n    }\n  }\n\n  // Resets slider\n  private resetSlider(): void {\n    this.manageElementsStyle();\n    this.addAccessibility();\n    this.updateCeilLabel();\n    this.updateFloorLabel();\n    this.unbindEvents();\n    this.manageEventsBindings();\n    this.updateDisabledState();\n    this.calculateViewDimensions();\n    this.refocusPointerIfNeeded();\n  }\n\n  // Sets focus on the specified pointer\n  private focusPointer(pointerType: PointerType): void {\n    // If not supplied, use min pointer as default\n    if (pointerType !== PointerType.Min && pointerType !== PointerType.Max) {\n      pointerType = PointerType.Min;\n    }\n\n    if (pointerType === PointerType.Min) {\n      this.minHandleElement.focus();\n    } else if (this.range && pointerType === PointerType.Max) {\n      this.maxHandleElement.focus();\n    }\n  }\n\n  private refocusPointerIfNeeded(): void {\n    if (!ValueHelper.isNullOrUndefined(this.currentFocusPointer)) {\n      this.onPointerFocus(this.currentFocusPointer);\n      const element: SliderHandleDirective = this.getPointerElement(this.currentFocusPointer);\n      element.focus();\n    }\n  }\n\n  // Update each elements style based on options\n  private manageElementsStyle(): void {\n    this.updateScale();\n\n    this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues || this.viewOptions.hideLimitLabels);\n    this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues || this.viewOptions.hideLimitLabels);\n\n    const hideLabelsForTicks: boolean = this.viewOptions.showTicksValues && !this.intermediateTicks;\n    this.minHandleLabelElement.setAlwaysHide(hideLabelsForTicks || this.viewOptions.hidePointerLabels);\n    this.maxHandleLabelElement.setAlwaysHide(hideLabelsForTicks || !this.range || this.viewOptions.hidePointerLabels);\n    this.combinedLabelElement.setAlwaysHide(hideLabelsForTicks || !this.range || this.viewOptions.hidePointerLabels);\n    this.selectionBarElement.setAlwaysHide(!this.range && !this.viewOptions.showSelectionBar);\n    this.leftOuterSelectionBarElement.setAlwaysHide(!this.range || !this.viewOptions.showOuterSelectionBars);\n    this.rightOuterSelectionBarElement.setAlwaysHide(!this.range || !this.viewOptions.showOuterSelectionBars);\n\n    this.fullBarTransparentClass = this.range && this.viewOptions.showOuterSelectionBars;\n    this.selectionBarDraggableClass = this.viewOptions.draggableRange && !this.viewOptions.onlyBindHandles;\n    this.ticksUnderValuesClass = this.intermediateTicks && this.options.showTicksValues;\n\n    if (this.sliderElementVerticalClass !== this.viewOptions.vertical) {\n      this.updateVerticalState();\n      // The above change in host component class will not be applied until the end of this cycle\n      // However, functions calculating the slider position expect the slider to be already styled as vertical\n      // So as a workaround, we need to reset the slider once again to compute the correct values\n      setTimeout((): void => { this.resetSlider(); });\n    }\n\n    // Changing animate class may interfere with slider reset/initialisation, so we should set it separately,\n    // after all is properly set up\n    if (this.sliderElementAnimateClass !== this.viewOptions.animate) {\n      setTimeout((): void => { this.sliderElementAnimateClass = this.viewOptions.animate; });\n    }\n  }\n\n  // Manage the events bindings based on readOnly and disabled options\n  private manageEventsBindings(): void {\n    if (this.viewOptions.disabled || this.viewOptions.readOnly) {\n      this.unbindEvents();\n    } else {\n      this.bindEvents();\n    }\n  }\n\n  // Set the disabled state based on disabled option\n  private updateDisabledState(): void {\n    this.sliderElementDisabledAttr = this.viewOptions.disabled ? 'disabled' : null;\n  }\n\n  // Set vertical state based on vertical option\n  private updateVerticalState(): void {\n    this.sliderElementVerticalClass = this.viewOptions.vertical;\n    for (const element of this.getAllSliderElements()) {\n      // This is also called before ngAfterInit, so need to check that view child bindings work\n      if (!ValueHelper.isNullOrUndefined(element)) {\n        element.setVertical(this.viewOptions.vertical);\n      }\n    }\n  }\n\n  private updateScale(): void {\n    for (const element of this.getAllSliderElements()) {\n      element.setScale(this.viewOptions.scale);\n    }\n  }\n\n  private getAllSliderElements(): SliderElementDirective[] {\n    return [this.leftOuterSelectionBarElement,\n      this.rightOuterSelectionBarElement,\n      this.fullBarElement,\n      this.selectionBarElement,\n      this.minHandleElement,\n      this.maxHandleElement,\n      this.floorLabelElement,\n      this.ceilLabelElement,\n      this.minHandleLabelElement,\n      this.maxHandleLabelElement,\n      this.combinedLabelElement,\n      this.ticksElement\n    ];\n  }\n\n  // Initialize slider handles positions and labels\n  // Run only once during initialization and every time view port changes size\n  private initHandles(): void {\n    this.updateLowHandle(this.valueToPosition(this.viewLowValue));\n\n    /*\n   the order here is important since the selection bar should be\n   updated after the high handle but before the combined label\n   */\n    if (this.range) {\n      this.updateHighHandle(this.valueToPosition(this.viewHighValue));\n    }\n\n    this.updateSelectionBar();\n\n    if (this.range) {\n      this.updateCombinedLabel();\n    }\n\n    this.updateTicksScale();\n  }\n\n  // Adds accessibility attributes, run only once during initialization\n  private addAccessibility(): void {\n    this.updateAriaAttributes();\n\n    this.minHandleElement.role = 'slider';\n\n    if ( this.viewOptions.keyboardSupport &&\n      !(this.viewOptions.readOnly || this.viewOptions.disabled) ) {\n      this.minHandleElement.tabindex = '0';\n    } else {\n      this.minHandleElement.tabindex = '';\n    }\n\n    if (this.viewOptions.vertical) {\n      this.minHandleElement.ariaOrientation = 'vertical';\n    }\n\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.ariaLabel)) {\n      this.minHandleElement.ariaLabel = this.viewOptions.ariaLabel;\n    } else if (!ValueHelper.isNullOrUndefined(this.viewOptions.ariaLabelledBy)) {\n      this.minHandleElement.ariaLabelledBy = this.viewOptions.ariaLabelledBy;\n    }\n\n    if (this.range) {\n      this.maxHandleElement.role = 'slider';\n\n      if (this.viewOptions.keyboardSupport &&\n        !(this.viewOptions.readOnly || this.viewOptions.disabled)) {\n        this.maxHandleElement.tabindex = '0';\n      } else {\n        this.maxHandleElement.tabindex = '';\n      }\n\n      this.maxHandleElement.ariaOrientation = this.viewOptions.vertical ? 'vertical' : 'horizontal';\n\n      if (!ValueHelper.isNullOrUndefined(this.viewOptions.ariaLabelHigh)) {\n        this.maxHandleElement.ariaLabel = this.viewOptions.ariaLabelHigh;\n      } else if (!ValueHelper.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)) {\n        this.maxHandleElement.ariaLabelledBy = this.viewOptions.ariaLabelledByHigh;\n      }\n    }\n  }\n\n  // Updates aria attributes according to current values\n  private updateAriaAttributes(): void {\n    this.minHandleElement.ariaValueNow = (+this.value).toString();\n    this.minHandleElement.ariaValueText = this.viewOptions.translate(+this.value, LabelType.Low);\n    this.minHandleElement.ariaValueMin = this.viewOptions.floor.toString();\n    this.minHandleElement.ariaValueMax = this.viewOptions.ceil.toString();\n\n    if (this.range) {\n      this.maxHandleElement.ariaValueNow = (+this.highValue).toString();\n      this.maxHandleElement.ariaValueText = this.viewOptions.translate(+this.highValue, LabelType.High);\n      this.maxHandleElement.ariaValueMin = this.viewOptions.floor.toString();\n      this.maxHandleElement.ariaValueMax = this.viewOptions.ceil.toString();\n    }\n  }\n\n  // Calculate dimensions that are dependent on view port size\n  // Run once during initialization and every time view port changes size.\n  private calculateViewDimensions(): void {\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.handleDimension)) {\n      this.minHandleElement.setDimension(this.viewOptions.handleDimension);\n    } else {\n      this.minHandleElement.calculateDimension();\n    }\n\n    const handleWidth: number = this.minHandleElement.dimension;\n\n    this.handleHalfDimension = handleWidth / 2;\n\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.barDimension)) {\n      this.fullBarElement.setDimension(this.viewOptions.barDimension);\n    } else {\n      this.fullBarElement.calculateDimension();\n    }\n\n    this.maxHandlePosition = this.fullBarElement.dimension - handleWidth;\n\n    if (this.initHasRun) {\n      this.updateFloorLabel();\n      this.updateCeilLabel();\n      this.initHandles();\n    }\n  }\n\n  private calculateViewDimensionsAndDetectChanges(): void {\n    this.calculateViewDimensions();\n    this.changeDetectionRef.detectChanges();\n  }\n\n  // Update the ticks position\n  private updateTicksScale(): void {\n    if (!this.viewOptions.showTicks) {\n      return;\n    }\n\n    const ticksArray: number[] = !ValueHelper.isNullOrUndefined(this.viewOptions.ticksArray)\n      ? this.viewOptions.ticksArray\n      : this.getTicksArray();\n    const translate: string = this.viewOptions.vertical ? 'translateY' : 'translateX';\n\n    if (this.viewOptions.rightToLeft) {\n      ticksArray.reverse();\n    }\n\n    const newTicks: Tick[] = ticksArray.map((value: number): Tick => {\n      let position: number = this.valueToPosition(value);\n\n      if (this.viewOptions.vertical) {\n        position = this.maxHandlePosition - position;\n      }\n\n      const translation: string = translate + '(' + Math.round(position) + 'px)';\n      const tick: Tick = new Tick();\n      tick.selected = this.isTickSelected(value);\n      tick.style = {\n        '-webkit-transform': translation,\n        '-moz-transform': translation,\n        '-o-transform': translation,\n        '-ms-transform': translation,\n        transform: translation,\n      };\n      if (tick.selected && !ValueHelper.isNullOrUndefined(this.viewOptions.getSelectionBarColor)) {\n        tick.style['background-color'] = this.getSelectionBarColor();\n      }\n      if (!tick.selected && !ValueHelper.isNullOrUndefined(this.viewOptions.getTickColor)) {\n        tick.style['background-color'] = this.getTickColor(value);\n      }\n      if (!ValueHelper.isNullOrUndefined(this.viewOptions.ticksTooltip)) {\n        tick.tooltip = this.viewOptions.ticksTooltip(value);\n        tick.tooltipPlacement = this.viewOptions.vertical ? 'right' : 'top';\n      }\n      if (this.viewOptions.showTicksValues && (value % this.viewOptions.tickValueStep === 0)) {\n        tick.value = this.getDisplayValue(value, LabelType.TickValue);\n        if (!ValueHelper.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)) {\n          tick.valueTooltip = this.viewOptions.ticksValuesTooltip(value);\n          tick.valueTooltipPlacement = this.viewOptions.vertical\n            ? 'right'\n            : 'top';\n        }\n      }\n      if (!ValueHelper.isNullOrUndefined(this.viewOptions.getLegend)) {\n        const legend: string = this.viewOptions.getLegend(value);\n        if (!ValueHelper.isNullOrUndefined(legend)) {\n          tick.legend = legend;\n        }\n      }\n      return tick;\n    });\n\n    // We should avoid re-creating the ticks array if possible\n    // This both improves performance and makes CSS animations work correctly\n    if (!ValueHelper.isNullOrUndefined(this.ticks) && this.ticks.length === newTicks.length) {\n      for (let i = 0; i  < newTicks.length; ++i) {\n        Object.assign(this.ticks[i], newTicks[i]);\n      }\n    } else {\n      this.ticks = newTicks;\n    }\n\n    this.changeDetectionRef.detectChanges();\n  }\n\n  private getTicksArray(): number[] {\n    const step: number = (!ValueHelper.isNullOrUndefined(this.viewOptions.tickStep)) ? this.viewOptions.tickStep : this.viewOptions.step;\n    const ticksArray: number[] = [];\n    for (let value: number = this.viewOptions.floor; value <= this.viewOptions.ceil; value += step) {\n      ticksArray.push(value);\n    }\n    return ticksArray;\n  }\n\n  private isTickSelected(value: number): boolean {\n    if (!this.range) {\n      if (!ValueHelper.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)) {\n        const center: number = this.viewOptions.showSelectionBarFromValue;\n        if (this.viewLowValue > center &&\n            value >= center &&\n            value <= this.viewLowValue) {\n          return true;\n        } else if (this.viewLowValue < center &&\n                   value <= center &&\n                   value >= this.viewLowValue) {\n          return true;\n        }\n      } else if (this.viewOptions.showSelectionBarEnd) {\n        if (value >= this.viewLowValue) {\n          return true;\n        }\n      } else if (this.viewOptions.showSelectionBar && value <= this.viewLowValue) {\n        return true;\n      }\n    }\n\n    if (this.range && value >= this.viewLowValue && value <= this.viewHighValue) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Update position of the floor label\n  private updateFloorLabel(): void {\n    if (!this.floorLabelElement.alwaysHide) {\n      this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor, LabelType.Floor));\n      this.floorLabelElement.calculateDimension();\n      const position: number = this.viewOptions.rightToLeft\n        ? this.fullBarElement.dimension - this.floorLabelElement.dimension\n        : 0;\n      this.floorLabelElement.setPosition(position);\n    }\n  }\n\n  // Update position of the ceiling label\n  private updateCeilLabel(): void {\n    if (!this.ceilLabelElement.alwaysHide) {\n      this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil, LabelType.Ceil));\n      this.ceilLabelElement.calculateDimension();\n      const position: number = this.viewOptions.rightToLeft\n        ? 0\n        : this.fullBarElement.dimension - this.ceilLabelElement.dimension;\n      this.ceilLabelElement.setPosition(position);\n    }\n  }\n\n  // Update slider handles and label positions\n  private updateHandles(which: PointerType, newPos: number): void {\n    if (which === PointerType.Min) {\n      this.updateLowHandle(newPos);\n    } else if (which === PointerType.Max) {\n      this.updateHighHandle(newPos);\n    }\n\n    this.updateSelectionBar();\n    this.updateTicksScale();\n    if (this.range) {\n      this.updateCombinedLabel();\n    }\n  }\n\n  // Helper function to work out the position for handle labels depending on RTL or not\n  private getHandleLabelPos(labelType: PointerType, newPos: number): number {\n    const labelDimension: number = (labelType === PointerType.Min)\n      ? this.minHandleLabelElement.dimension\n      : this.maxHandleLabelElement.dimension;\n    const nearHandlePos: number = newPos - labelDimension / 2 + this.handleHalfDimension;\n    const endOfBarPos: number = this.fullBarElement.dimension - labelDimension;\n\n    if (!this.viewOptions.boundPointerLabels) {\n      return nearHandlePos;\n    }\n\n    if ((this.viewOptions.rightToLeft && labelType === PointerType.Min) ||\n       (!this.viewOptions.rightToLeft && labelType === PointerType.Max)) {\n      return Math.min(nearHandlePos, endOfBarPos);\n    } else {\n      return Math.min(Math.max(nearHandlePos, 0), endOfBarPos);\n    }\n  }\n\n  // Update low slider handle position and label\n  private updateLowHandle(newPos: number): void {\n    this.minHandleElement.setPosition(newPos);\n    this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue, LabelType.Low));\n    this.minHandleLabelElement.setPosition(this.getHandleLabelPos(PointerType.Min, newPos));\n\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.getPointerColor)) {\n      this.minPointerStyle = {\n        backgroundColor: this.getPointerColor(PointerType.Min),\n      };\n    }\n\n    if (this.viewOptions.autoHideLimitLabels) {\n      this.updateFloorAndCeilLabelsVisibility();\n    }\n  }\n\n  // Update high slider handle position and label\n  private updateHighHandle(newPos: number): void {\n    this.maxHandleElement.setPosition(newPos);\n    this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue, LabelType.High));\n    this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(PointerType.Max, newPos));\n\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.getPointerColor)) {\n      this.maxPointerStyle = {\n        backgroundColor: this.getPointerColor(PointerType.Max),\n      };\n    }\n    if (this.viewOptions.autoHideLimitLabels) {\n      this.updateFloorAndCeilLabelsVisibility();\n    }\n  }\n\n  // Show/hide floor/ceiling label\n  private updateFloorAndCeilLabelsVisibility(): void {\n    // Show based only on hideLimitLabels if pointer labels are hidden\n    if (this.viewOptions.hidePointerLabels) {\n      return;\n    }\n    let floorLabelHidden = false;\n    let ceilLabelHidden = false;\n    const isMinLabelAtFloor: boolean = this.isLabelBelowFloorLabel(this.minHandleLabelElement);\n    const isMinLabelAtCeil: boolean = this.isLabelAboveCeilLabel(this.minHandleLabelElement);\n    const isMaxLabelAtCeil: boolean = this.isLabelAboveCeilLabel(this.maxHandleLabelElement);\n    const isCombinedLabelAtFloor: boolean = this.isLabelBelowFloorLabel(this.combinedLabelElement);\n    const isCombinedLabelAtCeil: boolean = this.isLabelAboveCeilLabel(this.combinedLabelElement);\n\n    if (isMinLabelAtFloor) {\n      floorLabelHidden = true;\n      this.floorLabelElement.hide();\n    } else {\n      floorLabelHidden = false;\n      this.floorLabelElement.show();\n    }\n\n    if (isMinLabelAtCeil) {\n      ceilLabelHidden = true;\n      this.ceilLabelElement.hide();\n    } else {\n      ceilLabelHidden = false;\n      this.ceilLabelElement.show();\n    }\n\n    if (this.range) {\n      const hideCeil: boolean = this.combinedLabelElement.isVisible() ? isCombinedLabelAtCeil : isMaxLabelAtCeil;\n      const hideFloor: boolean = this.combinedLabelElement.isVisible() ? isCombinedLabelAtFloor : isMinLabelAtFloor;\n\n      if (hideCeil) {\n        this.ceilLabelElement.hide();\n      } else if (!ceilLabelHidden) {\n        this.ceilLabelElement.show();\n      }\n\n      // Hide or show floor label\n      if (hideFloor) {\n        this.floorLabelElement.hide();\n      } else if (!floorLabelHidden) {\n        this.floorLabelElement.show();\n      }\n    }\n  }\n\n  private isLabelBelowFloorLabel(label: SliderLabelDirective): boolean {\n    const pos: number = label.position;\n    const dim: number = label.dimension;\n    const floorPos: number = this.floorLabelElement.position;\n    const floorDim: number = this.floorLabelElement.dimension;\n    return this.viewOptions.rightToLeft\n      ? pos + dim >= floorPos - 2\n      : pos <= floorPos + floorDim + 2;\n  }\n\n  private isLabelAboveCeilLabel(label: SliderLabelDirective): boolean {\n    const pos: number = label.position;\n    const dim: number = label.dimension;\n    const ceilPos: number = this.ceilLabelElement.position;\n    const ceilDim: number = this.ceilLabelElement.dimension;\n    return this.viewOptions.rightToLeft\n      ? pos <= ceilPos + ceilDim + 2\n      : pos + dim >= ceilPos - 2;\n  }\n\n  // Update slider selection bar, combined label and range label\n  private updateSelectionBar(): void {\n    let position = 0;\n    let dimension = 0;\n    const isSelectionBarFromRight: boolean = this.viewOptions.rightToLeft\n        ? !this.viewOptions.showSelectionBarEnd\n        : this.viewOptions.showSelectionBarEnd;\n    const positionForRange: number = this.viewOptions.rightToLeft\n        ? this.maxHandleElement.position + this.handleHalfDimension\n        : this.minHandleElement.position + this.handleHalfDimension;\n\n    if (this.range) {\n      dimension = Math.abs(this.maxHandleElement.position - this.minHandleElement.position);\n      position = positionForRange;\n    } else {\n      if (!ValueHelper.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)) {\n        const center: number = this.viewOptions.showSelectionBarFromValue;\n        const centerPosition: number = this.valueToPosition(center);\n        const isModelGreaterThanCenter: boolean = this.viewOptions.rightToLeft\n            ? this.viewLowValue <= center\n            : this.viewLowValue > center;\n        if (isModelGreaterThanCenter) {\n          dimension = this.minHandleElement.position - centerPosition;\n          position = centerPosition + this.handleHalfDimension;\n        } else {\n          dimension = centerPosition - this.minHandleElement.position;\n          position = this.minHandleElement.position + this.handleHalfDimension;\n        }\n      } else if (isSelectionBarFromRight) {\n        dimension = Math.ceil(Math.abs(this.maxHandlePosition - this.minHandleElement.position) + this.handleHalfDimension);\n        position = Math.floor(this.minHandleElement.position + this.handleHalfDimension);\n      } else {\n        dimension = this.minHandleElement.position + this.handleHalfDimension;\n        position = 0;\n      }\n    }\n    this.selectionBarElement.setDimension(dimension);\n    this.selectionBarElement.setPosition(position);\n    if (this.range && this.viewOptions.showOuterSelectionBars) {\n      if (this.viewOptions.rightToLeft) {\n        this.rightOuterSelectionBarElement.setDimension(position);\n        this.rightOuterSelectionBarElement.setPosition(0);\n        this.fullBarElement.calculateDimension();\n        this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension - (position + dimension));\n        this.leftOuterSelectionBarElement.setPosition(position + dimension);\n      } else {\n        this.leftOuterSelectionBarElement.setDimension(position);\n        this.leftOuterSelectionBarElement.setPosition(0);\n        this.fullBarElement.calculateDimension();\n        this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension - (position + dimension));\n        this.rightOuterSelectionBarElement.setPosition(position + dimension);\n      }\n    }\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.getSelectionBarColor)) {\n      const color: string = this.getSelectionBarColor();\n      this.barStyle = {\n        backgroundColor: color,\n      };\n    } else if (!ValueHelper.isNullOrUndefined(this.viewOptions.selectionBarGradient)) {\n      const offset: number = (!ValueHelper.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))\n            ? this.valueToPosition(this.viewOptions.showSelectionBarFromValue)\n            : 0;\n      const reversed: boolean = (offset - position > 0 && !isSelectionBarFromRight) || (offset - position <= 0 && isSelectionBarFromRight);\n      const direction: string = this.viewOptions.vertical\n          ? reversed ? 'bottom' : 'top'\n          : reversed ? 'left' : 'right';\n      this.barStyle = {\n        backgroundImage:\n          'linear-gradient(to ' +\n          direction +\n          ', ' +\n          this.viewOptions.selectionBarGradient.from +\n          ' 0%,' +\n          this.viewOptions.selectionBarGradient.to +\n          ' 100%)',\n      };\n      if (this.viewOptions.vertical) {\n        this.barStyle.backgroundPosition =\n          'center ' +\n          (offset +\n            dimension +\n            position +\n            (reversed ? -this.handleHalfDimension : 0)) +\n          'px';\n        this.barStyle.backgroundSize =\n          '100% ' + (this.fullBarElement.dimension - this.handleHalfDimension) + 'px';\n      } else {\n        this.barStyle.backgroundPosition =\n          offset -\n          position +\n          (reversed ? this.handleHalfDimension : 0) +\n          'px center';\n        this.barStyle.backgroundSize =\n          this.fullBarElement.dimension - this.handleHalfDimension + 'px 100%';\n      }\n    }\n  }\n\n  // Wrapper around the getSelectionBarColor of the user to pass to correct parameters\n  private getSelectionBarColor(): string {\n    if (this.range) {\n      return this.viewOptions.getSelectionBarColor(\n        this.value,\n        this.highValue\n      );\n    }\n    return this.viewOptions.getSelectionBarColor(this.value);\n  }\n\n  // Wrapper around the getPointerColor of the user to pass to  correct parameters\n  private getPointerColor(pointerType: PointerType): string {\n    if (pointerType === PointerType.Max) {\n      return this.viewOptions.getPointerColor(\n        this.highValue,\n        pointerType\n      );\n    }\n    return this.viewOptions.getPointerColor(\n      this.value,\n      pointerType\n    );\n  }\n\n  // Wrapper around the getTickColor of the user to pass to correct parameters\n  private getTickColor(value: number): string {\n    return this.viewOptions.getTickColor(value);\n  }\n\n  // Update combined label position and value\n  private updateCombinedLabel(): void {\n    let isLabelOverlap: boolean = null;\n    if (this.viewOptions.rightToLeft) {\n      isLabelOverlap =\n        this.minHandleLabelElement.position - this.minHandleLabelElement.dimension - 10 <= this.maxHandleLabelElement.position;\n    } else {\n      isLabelOverlap =\n        this.minHandleLabelElement.position + this.minHandleLabelElement.dimension + 10 >= this.maxHandleLabelElement.position;\n    }\n\n    if (isLabelOverlap) {\n      const lowDisplayValue: string = this.getDisplayValue(this.viewLowValue, LabelType.Low);\n      const highDisplayValue: string = this.getDisplayValue(this.viewHighValue, LabelType.High);\n      const combinedLabelValue: string = this.viewOptions.rightToLeft\n        ? this.viewOptions.combineLabels(highDisplayValue, lowDisplayValue)\n        : this.viewOptions.combineLabels(lowDisplayValue, highDisplayValue);\n\n      this.combinedLabelElement.setValue(combinedLabelValue);\n      const pos: number = this.viewOptions.boundPointerLabels\n        ? Math.min(\n            Math.max(\n              this.selectionBarElement.position +\n                this.selectionBarElement.dimension / 2 -\n                this.combinedLabelElement.dimension / 2,\n              0\n            ),\n            this.fullBarElement.dimension - this.combinedLabelElement.dimension\n          )\n        : this.selectionBarElement.position + this.selectionBarElement.dimension / 2 - this.combinedLabelElement.dimension / 2;\n\n      this.combinedLabelElement.setPosition(pos);\n      this.minHandleLabelElement.hide();\n      this.maxHandleLabelElement.hide();\n      this.combinedLabelElement.show();\n    } else {\n      this.updateHighHandle(this.valueToPosition(this.viewHighValue));\n      this.updateLowHandle(this.valueToPosition(this.viewLowValue));\n      this.maxHandleLabelElement.show();\n      this.minHandleLabelElement.show();\n      this.combinedLabelElement.hide();\n    }\n    if (this.viewOptions.autoHideLimitLabels) {\n      this.updateFloorAndCeilLabelsVisibility();\n    }\n  }\n\n  // Return the translated value if a translate function is provided else the original value\n  private getDisplayValue(value: number, which: LabelType): string {\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.stepsArray) && !this.viewOptions.bindIndexForStepsArray) {\n      value = this.getStepValue(value);\n    }\n    return this.viewOptions.translate(value, which);\n  }\n\n  // Round value to step and precision based on minValue\n  private roundStep(value: number, customStep?: number): number {\n    const step: number = !ValueHelper.isNullOrUndefined(customStep) ? customStep : this.viewOptions.step;\n    let steppedDifference: number = MathHelper.roundToPrecisionLimit(\n      (value - this.viewOptions.floor) / step, this.viewOptions.precisionLimit);\n    steppedDifference = Math.round(steppedDifference) * step;\n    return MathHelper.roundToPrecisionLimit(this.viewOptions.floor + steppedDifference, this.viewOptions.precisionLimit);\n  }\n\n  // Translate value to pixel position\n  private valueToPosition(val: number): number {\n    let fn: ValueToPositionFunction  = ValueHelper.linearValueToPosition;\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.customValueToPosition)) {\n      fn = this.viewOptions.customValueToPosition;\n    } else if (this.viewOptions.logScale) {\n      fn = ValueHelper.logValueToPosition;\n    }\n\n    val = MathHelper.clampToRange(val, this.viewOptions.floor, this.viewOptions.ceil);\n    let percent: number = fn(val, this.viewOptions.floor, this.viewOptions.ceil);\n    if (ValueHelper.isNullOrUndefined(percent)) {\n      percent = 0;\n    }\n    if (this.viewOptions.rightToLeft) {\n      percent = 1 - percent;\n    }\n    return percent * this.maxHandlePosition;\n  }\n\n  // Translate position to model value\n  private positionToValue(position: number): number {\n    let percent: number = position / this.maxHandlePosition;\n    if (this.viewOptions.rightToLeft) {\n      percent = 1 - percent;\n    }\n    let fn: PositionToValueFunction = ValueHelper.linearPositionToValue;\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.customPositionToValue)) {\n      fn = this.viewOptions.customPositionToValue;\n    } else if (this.viewOptions.logScale) {\n      fn = ValueHelper.logPositionToValue;\n    }\n    const value: number = fn(percent, this.viewOptions.floor, this.viewOptions.ceil);\n    return !ValueHelper.isNullOrUndefined(value) ? value : 0;\n  }\n\n  // Get the X-coordinate or Y-coordinate of an event\n  private getEventXY(event: MouseEvent|TouchEvent, targetTouchId?: number): number {\n    if (event instanceof MouseEvent) {\n      return this.viewOptions.vertical ? event.clientY : event.clientX;\n    }\n\n    let touchIndex = 0;\n    const touches: TouchList = event.touches;\n    if (!ValueHelper.isNullOrUndefined(targetTouchId)) {\n      for (let i = 0; i < touches.length; i++) {\n        if (touches[i].identifier === targetTouchId) {\n          touchIndex = i;\n          break;\n        }\n      }\n    }\n\n    // Return the target touch or if the target touch was not found in the event\n    // returns the coordinates of the first touch\n    return this.viewOptions.vertical ? touches[touchIndex].clientY : touches[touchIndex].clientX;\n  }\n\n  // Compute the event position depending on whether the slider is horizontal or vertical\n  private getEventPosition(event: MouseEvent|TouchEvent, targetTouchId?: number): number {\n    const sliderElementBoundingRect: ClientRect = this.elementRef.nativeElement.getBoundingClientRect();\n\n    const sliderPos: number = this.viewOptions.vertical ?\n      sliderElementBoundingRect.bottom : sliderElementBoundingRect.left;\n    let eventPos = 0;\n    if (this.viewOptions.vertical) {\n      eventPos = -this.getEventXY(event, targetTouchId) + sliderPos;\n    } else {\n      eventPos = this.getEventXY(event, targetTouchId) - sliderPos;\n    }\n    return eventPos * this.viewOptions.scale - this.handleHalfDimension;\n  }\n\n  // Get the handle closest to an event\n  private getNearestHandle(event: MouseEvent|TouchEvent): PointerType {\n    if (!this.range) {\n      return PointerType.Min;\n    }\n\n    const position: number = this.getEventPosition(event);\n    const distanceMin: number = Math.abs(position - this.minHandleElement.position);\n    const distanceMax: number = Math.abs(position - this.maxHandleElement.position);\n\n    if (distanceMin < distanceMax) {\n      return PointerType.Min;\n    } else if (distanceMin > distanceMax) {\n      return PointerType.Max;\n    } else if (!this.viewOptions.rightToLeft) {\n      // if event is at the same distance from min/max then if it's at left of minH, we return minH else maxH\n      return position < this.minHandleElement.position ? PointerType.Min : PointerType.Max;\n    }\n    // reverse in rtl\n    return position > this.minHandleElement.position ? PointerType.Min : PointerType.Max;\n  }\n\n  // Bind mouse and touch events to slider handles\n  private bindEvents(): void {\n    const draggableRange: boolean = this.viewOptions.draggableRange;\n\n    if (!this.viewOptions.onlyBindHandles) {\n      this.selectionBarElement.on('mousedown',\n        (event: MouseEvent): void => this.onBarStart(null, draggableRange, event, true, true, true)\n      );\n    }\n\n    if (this.viewOptions.draggableRangeOnly) {\n      this.minHandleElement.on('mousedown',\n        (event: MouseEvent): void => this.onBarStart(PointerType.Min, draggableRange, event, true, true)\n      );\n      this.maxHandleElement.on('mousedown',\n        (event: MouseEvent): void => this.onBarStart(PointerType.Max, draggableRange, event, true, true)\n      );\n    } else {\n      this.minHandleElement.on('mousedown',\n        (event: MouseEvent): void => this.onStart(PointerType.Min, event, true, true)\n      );\n\n      if (this.range) {\n        this.maxHandleElement.on('mousedown',\n          (event: MouseEvent): void => this.onStart(PointerType.Max, event, true, true)\n        );\n      }\n      if (!this.viewOptions.onlyBindHandles) {\n        this.fullBarElement.on('mousedown',\n          (event: MouseEvent): void => this.onStart(null, event, true, true, true)\n        );\n        this.ticksElement.on('mousedown',\n          (event: MouseEvent): void => this.onStart(null, event, true, true, true, true)\n        );\n      }\n    }\n\n    if (!this.viewOptions.onlyBindHandles) {\n      this.selectionBarElement.onPassive('touchstart',\n        (event: TouchEvent): void => this.onBarStart(null, draggableRange, event, true, true, true)\n      );\n    }\n    if (this.viewOptions.draggableRangeOnly) {\n      this.minHandleElement.onPassive('touchstart',\n        (event: TouchEvent): void => this.onBarStart(PointerType.Min, draggableRange, event, true, true)\n      );\n      this.maxHandleElement.onPassive('touchstart',\n        (event: TouchEvent): void => this.onBarStart(PointerType.Max, draggableRange, event, true, true)\n      );\n    } else {\n      this.minHandleElement.onPassive('touchstart',\n        (event: TouchEvent): void => this.onStart(PointerType.Min, event, true, true)\n      );\n      if (this.range) {\n        this.maxHandleElement.onPassive('touchstart',\n          (event: TouchEvent): void => this.onStart(PointerType.Max, event, true, true)\n        );\n      }\n      if (!this.viewOptions.onlyBindHandles) {\n        this.fullBarElement.onPassive('touchstart',\n          (event: TouchEvent): void => this.onStart(null, event, true, true, true)\n        );\n        this.ticksElement.onPassive('touchstart',\n          (event: TouchEvent): void => this.onStart(null, event, false, false, true, true)\n        );\n      }\n    }\n\n    if (this.viewOptions.keyboardSupport) {\n      this.minHandleElement.on('focus', (): void => this.onPointerFocus(PointerType.Min));\n      if (this.range) {\n        this.maxHandleElement.on('focus', (): void => this.onPointerFocus(PointerType.Max));\n      }\n    }\n  }\n\n  // Unbind mouse and touch events to slider handles\n  private unbindEvents(): void {\n    this.unsubscribeOnMove();\n    this.unsubscribeOnEnd();\n\n    for (const element of this.getAllSliderElements()) {\n      element.off();\n    }\n  }\n\n  private onBarStart(pointerType: PointerType, draggableRange: boolean, event: MouseEvent|TouchEvent,\n                     bindMove: boolean, bindEnd: boolean, simulateImmediateMove?: boolean, simulateImmediateEnd?: boolean): void {\n    if (draggableRange) {\n      this.onDragStart(pointerType, event, bindMove, bindEnd);\n    } else {\n      this.onStart(pointerType, event, bindMove, bindEnd, simulateImmediateMove, simulateImmediateEnd);\n    }\n  }\n\n  // onStart event handler\n  private onStart(pointerType: PointerType, event: MouseEvent|TouchEvent,\n                  bindMove: boolean, bindEnd: boolean, simulateImmediateMove?: boolean, simulateImmediateEnd?: boolean): void {\n    event.stopPropagation();\n    // Only call preventDefault() when handling non-passive events (passive events don't need it)\n    if (!CompatibilityHelper.isTouchEvent(event) || !detectPassiveEvents.hasSupport) {\n      event.preventDefault();\n    }\n\n    // We have to do this in case the HTML where the sliders are on\n    // have been animated into view.\n    this.calculateViewDimensions();\n\n    if (ValueHelper.isNullOrUndefined(pointerType)) {\n      pointerType = this.getNearestHandle(event);\n    }\n\n    this.currentTrackingPointer = pointerType;\n\n    const pointerElement: SliderHandleDirective = this.getPointerElement(pointerType);\n    pointerElement.active = true;\n\n    if (this.viewOptions.keyboardSupport) {\n      pointerElement.focus();\n    }\n\n    if (bindMove) {\n      this.unsubscribeOnMove();\n\n      const onMoveCallback: ((e: MouseEvent|TouchEvent) => void) =\n        (e: MouseEvent|TouchEvent): void => this.dragging.active ? this.onDragMove(e) : this.onMove(e);\n\n      if (CompatibilityHelper.isTouchEvent(event)) {\n        this.onMoveEventListener = this.eventListenerHelper.attachPassiveEventListener(\n          document, 'touchmove', onMoveCallback, this.viewOptions.touchEventsInterval);\n      } else {\n        this.onMoveEventListener = this.eventListenerHelper.attachEventListener(\n          document, 'mousemove', onMoveCallback, this.viewOptions.mouseEventsInterval);\n      }\n    }\n\n    if (bindEnd) {\n      this.unsubscribeOnEnd();\n\n      const onEndCallback: ((e: MouseEvent|TouchEvent) => void) =\n        (e: MouseEvent|TouchEvent): void => this.onEnd(e);\n\n      if (CompatibilityHelper.isTouchEvent(event)) {\n        this.onEndEventListener = this.eventListenerHelper.attachPassiveEventListener(document, 'touchend', onEndCallback);\n      } else {\n        this.onEndEventListener = this.eventListenerHelper.attachEventListener(document, 'mouseup', onEndCallback);\n      }\n    }\n\n    this.userChangeStart.emit(this.getChangeContext());\n\n    if (CompatibilityHelper.isTouchEvent(event) && !ValueHelper.isNullOrUndefined((event as TouchEvent).changedTouches)) {\n      // Store the touch identifier\n      if (ValueHelper.isNullOrUndefined(this.touchId)) {\n        this.touchId = (event as TouchEvent).changedTouches[0].identifier;\n      }\n    }\n\n    // Click events, either with mouse or touch gesture are weird. Sometimes they result in full\n    // start, move, end sequence, and sometimes, they don't - they only invoke mousedown\n    // As a workaround, we simulate the first move event and the end event if it's necessary\n    if (simulateImmediateMove) {\n      this.onMove(event, true);\n    }\n\n    if (simulateImmediateEnd) {\n      this.onEnd(event);\n    }\n  }\n\n  // onMove event handler\n  private onMove(event: MouseEvent|TouchEvent, fromTick?: boolean): void {\n    let touchForThisSlider: Touch = null;\n\n    if (CompatibilityHelper.isTouchEvent(event)) {\n      const changedTouches: TouchList = (event as TouchEvent).changedTouches;\n      // tslint:disable-next-line: prefer-for-of\n      for (let i = 0; i < changedTouches.length; i++) {\n        if (changedTouches[i].identifier === this.touchId) {\n          touchForThisSlider = changedTouches[i];\n          break;\n        }\n      }\n\n      if (ValueHelper.isNullOrUndefined(touchForThisSlider)) {\n        return;\n      }\n    }\n\n    const newPos: number = !ValueHelper.isNullOrUndefined(touchForThisSlider)\n      ? this.getEventPosition(event, touchForThisSlider.identifier)\n      : this.getEventPosition(event);\n    let newValue: number;\n    const ceilValue: number = this.viewOptions.rightToLeft\n        ? this.viewOptions.floor\n        : this.viewOptions.ceil;\n    const floorValue: number = this.viewOptions.rightToLeft ? this.viewOptions.ceil : this.viewOptions.floor;\n\n    if (newPos <= 0) {\n      newValue = floorValue;\n    } else if (newPos >= this.maxHandlePosition) {\n      newValue = ceilValue;\n    } else {\n      newValue = this.positionToValue(newPos);\n      if (fromTick && !ValueHelper.isNullOrUndefined(this.viewOptions.tickStep)) {\n        newValue = this.roundStep(newValue, this.viewOptions.tickStep);\n      } else {\n        newValue = this.roundStep(newValue);\n      }\n    }\n    this.positionTrackingHandle(newValue);\n  }\n\n  private onEnd(event: MouseEvent|TouchEvent): void {\n    if (CompatibilityHelper.isTouchEvent(event)) {\n      const changedTouches: TouchList = (event as TouchEvent).changedTouches;\n      if (changedTouches[0].identifier !== this.touchId) {\n        return;\n      }\n    }\n\n    this.touchId = null;\n\n    if (!this.viewOptions.keyboardSupport) {\n      this.minHandleElement.active = false;\n      this.maxHandleElement.active = false;\n      this.currentTrackingPointer = null;\n    }\n    this.dragging.active = false;\n\n    this.unsubscribeOnMove();\n    this.unsubscribeOnEnd();\n\n    this.userChangeEnd.emit(this.getChangeContext());\n  }\n\n  private onPointerFocus(pointerType: PointerType): void {\n    const pointerElement: SliderHandleDirective = this.getPointerElement(pointerType);\n    pointerElement.on('blur', (): void => this.onPointerBlur(pointerElement));\n    pointerElement.on('keydown', (event: KeyboardEvent): void => this.onKeyboardEvent(event));\n    pointerElement.on('keyup', (): void => this.onKeyUp());\n    pointerElement.active = true;\n\n    this.currentTrackingPointer = pointerType;\n    this.currentFocusPointer = pointerType;\n    this.firstKeyDown = true;\n  }\n\n  private onKeyUp(): void {\n    this.firstKeyDown = true;\n    this.userChangeEnd.emit(this.getChangeContext());\n  }\n\n  private onPointerBlur(pointer: SliderHandleDirective): void {\n    pointer.off('blur');\n    pointer.off('keydown');\n    pointer.off('keyup');\n    pointer.active = false;\n    if (ValueHelper.isNullOrUndefined(this.touchId)) {\n      this.currentTrackingPointer = null;\n      this.currentFocusPointer = null;\n    }\n  }\n\n  private getKeyActions(currentValue: number): {[key: string]: number} {\n    const valueRange: number = this.viewOptions.ceil - this.viewOptions.floor;\n\n    let increaseStep: number = currentValue + this.viewOptions.step;\n    let decreaseStep: number = currentValue - this.viewOptions.step;\n    let increasePage: number = currentValue + valueRange / 10;\n    let decreasePage: number = currentValue - valueRange / 10;\n\n    if (this.viewOptions.reversedControls) {\n      increaseStep = currentValue - this.viewOptions.step;\n      decreaseStep = currentValue + this.viewOptions.step;\n      increasePage = currentValue - valueRange / 10;\n      decreasePage = currentValue + valueRange / 10;\n    }\n\n    // Left to right default actions\n    const actions: {[key: string]: number} = {\n      UP: increaseStep,\n      DOWN: decreaseStep,\n      LEFT: decreaseStep,\n      RIGHT: increaseStep,\n      PAGEUP: increasePage,\n      PAGEDOWN: decreasePage,\n      HOME: this.viewOptions.reversedControls ? this.viewOptions.ceil : this.viewOptions.floor,\n      END: this.viewOptions.reversedControls ? this.viewOptions.floor : this.viewOptions.ceil,\n    };\n    // right to left means swapping right and left arrows\n    if (this.viewOptions.rightToLeft) {\n      actions.LEFT = increaseStep;\n      actions.RIGHT = decreaseStep;\n      // right to left and vertical means we also swap up and down\n      if (this.viewOptions.vertical) {\n        actions.UP = decreaseStep;\n        actions.DOWN = increaseStep;\n      }\n    }\n    return actions;\n  }\n\n  private onKeyboardEvent(event: KeyboardEvent): void {\n    const currentValue: number = this.getCurrentTrackingValue();\n    const keyCode: number = !ValueHelper.isNullOrUndefined(event.keyCode)\n      ? event.keyCode\n      : event.which;\n    const keys: {[keyCode: number]: string} = {\n        38: 'UP',\n        40: 'DOWN',\n        37: 'LEFT',\n        39: 'RIGHT',\n        33: 'PAGEUP',\n        34: 'PAGEDOWN',\n        36: 'HOME',\n        35: 'END',\n      };\n    const actions: {[key: string]: number} = this.getKeyActions(currentValue);\n    const key: string = keys[keyCode];\n    const action: number = actions[key];\n\n    if (ValueHelper.isNullOrUndefined(action) || ValueHelper.isNullOrUndefined(this.currentTrackingPointer)) {\n      return;\n    }\n    event.preventDefault();\n\n    if (this.firstKeyDown) {\n      this.firstKeyDown = false;\n      this.userChangeStart.emit(this.getChangeContext());\n    }\n\n    const actionValue: number = MathHelper.clampToRange(action, this.viewOptions.floor, this.viewOptions.ceil);\n    const newValue: number = this.roundStep(actionValue);\n    if (!this.viewOptions.draggableRangeOnly) {\n      this.positionTrackingHandle(newValue);\n    } else {\n      const difference: number = this.viewHighValue - this.viewLowValue;\n      let newMinValue: number;\n      let newMaxValue: number;\n\n      if (this.currentTrackingPointer === PointerType.Min) {\n        newMinValue = newValue;\n        newMaxValue = newValue + difference;\n        if (newMaxValue > this.viewOptions.ceil) {\n          newMaxValue = this.viewOptions.ceil;\n          newMinValue = newMaxValue - difference;\n        }\n      } else if (this.currentTrackingPointer === PointerType.Max) {\n        newMaxValue = newValue;\n        newMinValue = newValue - difference;\n        if (newMinValue < this.viewOptions.floor) {\n          newMinValue = this.viewOptions.floor;\n          newMaxValue = newMinValue + difference;\n        }\n      }\n      this.positionTrackingBar(newMinValue, newMaxValue);\n    }\n  }\n\n  // onDragStart event handler, handles dragging of the middle bar\n  private onDragStart(pointerType: PointerType, event: MouseEvent|TouchEvent,\n                      bindMove: boolean, bindEnd: boolean): void {\n    const position: number = this.getEventPosition(event);\n\n    this.dragging = new Dragging();\n    this.dragging.active = true;\n    this.dragging.value = this.positionToValue(position);\n    this.dragging.difference = this.viewHighValue - this.viewLowValue;\n    this.dragging.lowLimit = this.viewOptions.rightToLeft\n        ? this.minHandleElement.position - position\n        : position - this.minHandleElement.position;\n    this.dragging.highLimit = this.viewOptions.rightToLeft\n        ? position - this.maxHandleElement.position\n        : this.maxHandleElement.position - position;\n\n    this.onStart(pointerType, event, bindMove, bindEnd);\n  }\n\n  /** Get min value depending on whether the newPos is outOfBounds above or below the bar and rightToLeft */\n  private getMinValue(newPos: number, outOfBounds: boolean, isAbove: boolean): number {\n    const isRTL: boolean = this.viewOptions.rightToLeft;\n    let value: number = null;\n\n    if (outOfBounds) {\n      if (isAbove) {\n        value = isRTL\n          ? this.viewOptions.floor\n          : this.viewOptions.ceil - this.dragging.difference;\n      } else {\n        value = isRTL\n          ? this.viewOptions.ceil - this.dragging.difference\n          : this.viewOptions.floor;\n      }\n    } else {\n      value = isRTL\n        ? this.positionToValue(newPos + this.dragging.lowLimit)\n        : this.positionToValue(newPos - this.dragging.lowLimit);\n    }\n    return this.roundStep(value);\n  }\n\n  /** Get max value depending on whether the newPos is outOfBounds above or below the bar and rightToLeft */\n  private getMaxValue(newPos: number, outOfBounds: boolean, isAbove: boolean): number {\n    const isRTL: boolean = this.viewOptions.rightToLeft;\n    let value: number = null;\n\n    if (outOfBounds) {\n      if (isAbove) {\n        value = isRTL\n          ? this.viewOptions.floor + this.dragging.difference\n          : this.viewOptions.ceil;\n      } else {\n        value = isRTL\n          ? this.viewOptions.ceil\n          : this.viewOptions.floor + this.dragging.difference;\n      }\n    } else {\n      if (isRTL) {\n        value =\n          this.positionToValue(newPos + this.dragging.lowLimit) +\n          this.dragging.difference;\n      } else {\n        value =\n          this.positionToValue(newPos - this.dragging.lowLimit) +\n          this.dragging.difference;\n      }\n    }\n\n    return this.roundStep(value);\n  }\n\n  private onDragMove(event?: MouseEvent|TouchEvent): void {\n    const newPos: number = this.getEventPosition(event);\n\n    let ceilLimit: number;\n    let floorLimit: number;\n    let floorHandleElement: SliderHandleDirective;\n    let ceilHandleElement: SliderHandleDirective;\n    if (this.viewOptions.rightToLeft) {\n      ceilLimit = this.dragging.lowLimit;\n      floorLimit = this.dragging.highLimit;\n      floorHandleElement = this.maxHandleElement;\n      ceilHandleElement = this.minHandleElement;\n    } else {\n      ceilLimit = this.dragging.highLimit;\n      floorLimit = this.dragging.lowLimit;\n      floorHandleElement = this.minHandleElement;\n      ceilHandleElement = this.maxHandleElement;\n    }\n\n    const isUnderFloorLimit: boolean = (newPos <= floorLimit);\n    const isOverCeilLimit: boolean = (newPos >= this.maxHandlePosition - ceilLimit);\n\n    let newMinValue: number;\n    let newMaxValue: number;\n    if (isUnderFloorLimit) {\n      if (floorHandleElement.position === 0) {\n        return;\n      }\n      newMinValue = this.getMinValue(newPos, true, false);\n      newMaxValue = this.getMaxValue(newPos, true, false);\n    } else if (isOverCeilLimit) {\n      if (ceilHandleElement.position === this.maxHandlePosition) {\n        return;\n      }\n      newMaxValue = this.getMaxValue(newPos, true, true);\n      newMinValue = this.getMinValue(newPos, true, true);\n    } else {\n      newMinValue = this.getMinValue(newPos, false, false);\n      newMaxValue = this.getMaxValue(newPos, false, false);\n    }\n\n    this.positionTrackingBar(newMinValue, newMaxValue);\n  }\n\n  // Set the new value and position for the entire bar\n  private positionTrackingBar(newMinValue: number, newMaxValue: number): void {\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.minLimit) &&\n        newMinValue < this.viewOptions.minLimit) {\n      newMinValue = this.viewOptions.minLimit;\n      newMaxValue = MathHelper.roundToPrecisionLimit(newMinValue + this.dragging.difference, this.viewOptions.precisionLimit);\n    }\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.maxLimit) &&\n        newMaxValue > this.viewOptions.maxLimit) {\n      newMaxValue = this.viewOptions.maxLimit;\n      newMinValue = MathHelper.roundToPrecisionLimit(newMaxValue - this.dragging.difference, this.viewOptions.precisionLimit);\n    }\n\n    this.viewLowValue = newMinValue;\n    this.viewHighValue = newMaxValue;\n    this.applyViewChange();\n    this.updateHandles(PointerType.Min, this.valueToPosition(newMinValue));\n    this.updateHandles(PointerType.Max, this.valueToPosition(newMaxValue));\n  }\n\n  // Set the new value and position to the current tracking handle\n  private positionTrackingHandle(newValue: number): void {\n    newValue = this.applyMinMaxLimit(newValue);\n    if (this.range) {\n      if (this.viewOptions.pushRange) {\n        newValue = this.applyPushRange(newValue);\n      } else {\n        if (this.viewOptions.noSwitching) {\n          if (this.currentTrackingPointer === PointerType.Min &&\n              newValue > this.viewHighValue) {\n            newValue = this.applyMinMaxRange(this.viewHighValue);\n          } else if (this.currentTrackingPointer === PointerType.Max &&\n                     newValue < this.viewLowValue) {\n            newValue = this.applyMinMaxRange(this.viewLowValue);\n          }\n        }\n        newValue = this.applyMinMaxRange(newValue);\n        /* This is to check if we need to switch the min and max handles */\n        if (this.currentTrackingPointer === PointerType.Min && newValue > this.viewHighValue) {\n          this.viewLowValue = this.viewHighValue;\n          this.applyViewChange();\n          this.updateHandles(PointerType.Min, this.maxHandleElement.position);\n          this.updateAriaAttributes();\n          this.currentTrackingPointer = PointerType.Max;\n          this.minHandleElement.active = false;\n          this.maxHandleElement.active = true;\n          if (this.viewOptions.keyboardSupport) {\n            this.maxHandleElement.focus();\n          }\n        } else if (this.currentTrackingPointer === PointerType.Max &&\n                   newValue < this.viewLowValue) {\n          this.viewHighValue = this.viewLowValue;\n          this.applyViewChange();\n          this.updateHandles(PointerType.Max, this.minHandleElement.position);\n          this.updateAriaAttributes();\n          this.currentTrackingPointer = PointerType.Min;\n          this.maxHandleElement.active = false;\n          this.minHandleElement.active = true;\n          if (this.viewOptions.keyboardSupport) {\n            this.minHandleElement.focus();\n          }\n        }\n      }\n    }\n\n    if (this.getCurrentTrackingValue() !== newValue) {\n      if (this.currentTrackingPointer === PointerType.Min) {\n        this.viewLowValue = newValue;\n        this.applyViewChange();\n      } else if (this.currentTrackingPointer === PointerType.Max) {\n        this.viewHighValue = newValue;\n        this.applyViewChange();\n      }\n      this.updateHandles(this.currentTrackingPointer, this.valueToPosition(newValue));\n      this.updateAriaAttributes();\n    }\n  }\n\n  private applyMinMaxLimit(newValue: number): number {\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.minLimit) && newValue < this.viewOptions.minLimit) {\n      return this.viewOptions.minLimit;\n    }\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.maxLimit) && newValue > this.viewOptions.maxLimit) {\n      return this.viewOptions.maxLimit;\n    }\n    return newValue;\n  }\n\n  private applyMinMaxRange(newValue: number): number {\n    const oppositeValue: number = (this.currentTrackingPointer === PointerType.Min)\n      ? this.viewHighValue\n      : this.viewLowValue;\n    const difference: number = Math.abs(newValue - oppositeValue);\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.minRange)) {\n      if (difference < this.viewOptions.minRange) {\n        if (this.currentTrackingPointer === PointerType.Min) {\n          return MathHelper.roundToPrecisionLimit(this.viewHighValue - this.viewOptions.minRange, this.viewOptions.precisionLimit);\n        } else if (this.currentTrackingPointer === PointerType.Max) {\n          return MathHelper.roundToPrecisionLimit(this.viewLowValue + this.viewOptions.minRange, this.viewOptions.precisionLimit);\n        }\n      }\n    }\n    if (!ValueHelper.isNullOrUndefined(this.viewOptions.maxRange)) {\n      if (difference > this.viewOptions.maxRange) {\n        if (this.currentTrackingPointer === PointerType.Min) {\n          return MathHelper.roundToPrecisionLimit(this.viewHighValue - this.viewOptions.maxRange, this.viewOptions.precisionLimit);\n        } else if (this.currentTrackingPointer === PointerType.Max) {\n          return MathHelper.roundToPrecisionLimit(this.viewLowValue + this.viewOptions.maxRange, this.viewOptions.precisionLimit);\n        }\n      }\n    }\n    return newValue;\n  }\n\n  private applyPushRange(newValue: number): number {\n    const difference: number = (this.currentTrackingPointer === PointerType.Min)\n          ? this.viewHighValue - newValue\n          : newValue - this.viewLowValue;\n    const minRange: number = (!ValueHelper.isNullOrUndefined(this.viewOptions.minRange))\n          ? this.viewOptions.minRange\n          : this.viewOptions.step;\n    const maxRange: number = this.viewOptions.maxRange;\n    // if smaller than minRange\n    if (difference < minRange) {\n      if (this.currentTrackingPointer === PointerType.Min) {\n        this.viewHighValue = MathHelper.roundToPrecisionLimit(\n          Math.min(newValue + minRange, this.viewOptions.ceil), this.viewOptions.precisionLimit);\n        newValue = MathHelper.roundToPrecisionLimit(this.viewHighValue - minRange, this.viewOptions.precisionLimit);\n        this.applyViewChange();\n        this.updateHandles(PointerType.Max, this.valueToPosition(this.viewHighValue));\n      } else if (this.currentTrackingPointer === PointerType.Max) {\n        this.viewLowValue = MathHelper.roundToPrecisionLimit(\n          Math.max(newValue - minRange, this.viewOptions.floor), this.viewOptions.precisionLimit);\n        newValue = MathHelper.roundToPrecisionLimit(this.viewLowValue + minRange, this.viewOptions.precisionLimit);\n        this.applyViewChange();\n        this.updateHandles(PointerType.Min, this.valueToPosition(this.viewLowValue));\n      }\n      this.updateAriaAttributes();\n    } else if (!ValueHelper.isNullOrUndefined(maxRange) && difference > maxRange) {\n      // if greater than maxRange\n      if (this.currentTrackingPointer === PointerType.Min) {\n        this.viewHighValue = MathHelper.roundToPrecisionLimit(newValue + maxRange, this.viewOptions.precisionLimit);\n        this.applyViewChange();\n        this.updateHandles(PointerType.Max, this.valueToPosition(this.viewHighValue)\n        );\n      } else if (this.currentTrackingPointer === PointerType.Max) {\n        this.viewLowValue = MathHelper.roundToPrecisionLimit(newValue - maxRange, this.viewOptions.precisionLimit);\n        this.applyViewChange();\n        this.updateHandles(PointerType.Min, this.valueToPosition(this.viewLowValue));\n      }\n      this.updateAriaAttributes();\n    }\n    return newValue;\n  }\n\n  private getChangeContext(): ChangeContext {\n    const changeContext: ChangeContext = new ChangeContext();\n    changeContext.pointerType = this.currentTrackingPointer;\n    changeContext.value = +this.value;\n    if (this.range) {\n      changeContext.highValue = +this.highValue;\n    }\n    return changeContext;\n  }\n}\n","import { Component, Input, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'ngx-slider-tooltip-wrapper',\n  templateUrl: './tooltip-wrapper.component.html',\n  styleUrls: ['./tooltip-wrapper.component.scss']\n})\nexport class TooltipWrapperComponent {\n  @Input()\n  template: TemplateRef<any>;\n\n  @Input()\n  tooltip: string;\n\n  @Input()\n  placement: string;\n\n  @Input()\n  content: string;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SliderComponent } from './slider.component';\nimport { SliderElementDirective } from '../directives/slider-element.directive';\nimport { SliderHandleDirective } from '../directives/slider-handle.directive';\nimport { SliderLabelDirective } from '../directives/slider-label.directive';\nimport { TooltipWrapperComponent } from '../tooltip-wrapper/tooltip-wrapper.component';\n\n/**\n * NgxSlider module\n *\n * The module exports the slider component\n */\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    SliderComponent,\n    SliderElementDirective,\n    SliderHandleDirective,\n    SliderLabelDirective,\n    TooltipWrapperComponent\n  ],\n  exports: [\n    SliderComponent\n  ]\n})\nexport class NgxSliderModule { }\n"],"names":[],"mappings":"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"}